<!DOCTYPE html>
  
  
  
  
   <html class="no-js"> 

  <head lang="en-us">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=10" />
    <title>Laradock</title>
    <meta name="generator" content="Hugo 0.20.2" />

    
    <meta name="description" content="Full PHP development environment for Docker.">
    
    <link rel="canonical" href="https://laradock.io/">
    
    <meta name="author" content="Mahmoud Zalt">
    

    <meta property="og:url" content="https://laradock.io/">
    <meta property="og:title" content="Laradock">
    <meta property="og:image" content="https://laradock.io/images/logo.png">
    <meta name="apple-mobile-web-app-title" content="Laradock">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="shortcut icon" type="image/x-icon" href="https://laradock.io/images/favicon.ico">
    <link rel="icon" type="image/x-icon" href="https://laradock.io/images/favicon.ico">

    <style>
      @font-face {
        font-family: 'Icon';
        src: url('https://laradock.io/fonts/icon.eot');
        src: url('https://laradock.io/fonts/icon.eot')
               format('embedded-opentype'),
             url('https://laradock.io/fonts/icon.woff')
               format('woff'),
             url('https://laradock.io/fonts/icon.ttf')
               format('truetype'),
             url('https://laradock.io/fonts/icon.svg')
               format('svg');
        font-weight: normal;
        font-style: normal;
      }
    </style>

    <link rel="stylesheet" href="https://laradock.io/stylesheets/application.css">
    <link rel="stylesheet" href="https://laradock.io/stylesheets/temporary.css">
    <link rel="stylesheet" href="https://laradock.io/stylesheets/palettes.css">
    <link rel="stylesheet" href="https://laradock.io/stylesheets/highlight/highlight.css">

    
    
    
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Doctarine:400,700|Source&#43;Code&#43;Pro">
    <style>
      body, input {
        font-family: 'Doctarine', Helvetica, Arial, sans-serif;
      }
      pre, code {
        font-family: 'Source Code Pro', 'Courier New', 'Courier', monospace;
      }
    </style>

    
    <link rel="stylesheet" href="https://laradock.io/custom-style.css">
    
    <script src="https://laradock.io/javascripts/modernizr.js"></script>

    <script>
    
    
      var SeedAndDewConfig = {};
      (function() {
          SeedAndDewConfig['adClass'] = "snd-ad";
           
          SeedAndDewConfig['projectId'] = 'd69f3ea2-1e30-44c7-bd2a-87686c0136e6';
          SeedAndDewConfig['loadStartTime'] = performance.now();
          SeedAndDewConfig['apiVersion'] = '2018-05-28'
          SeedAndDewConfig['sessionId'] = Math.random().toString(36).substring(2, 15);
          var snd = document.createElement('script');
          snd.type = 'text/javascript';
          snd.async = true;
          snd.src = 'https://www.seedanddew.com/static/embed.min.js';
          (document.getElementsByTagName('head')[0] ||
              document.getElementsByTagName('body')[0]).appendChild(snd);
      })();
    
    </script>

    
    <link href="https://laradock.io/index.xml" rel="alternate" type="application/rss+xml" title="Laradock" />
    <link href="https://laradock.io/index.xml" rel="feed" type="application/rss+xml" title="Laradock" />
    

  </head>
  <body class="palette-primary-deep-purple palette-accent-purple">




<div class="backdrop">
	<div class="backdrop-paper"></div>
</div>

<input class="toggle" type="checkbox" id="toggle-drawer">
<input class="toggle" type="checkbox" id="toggle-search">
<label class="toggle-button overlay" for="toggle-drawer"></label>

<header class="header">
	<nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
          <b>Laradock</b> <span style="color: rgba(249, 245, 255, 0.63);"> / Laradock</span>
      </div>
    </div>

    

    
    <div class="button button-github" role="button" aria-label="GitHub">
        <a style="padding: 0px; font-size:40px" href="https://github.com/laradock/laradock" title="@laradock/laradock on GitHub" target="_blank" class="toggle-button icon icon-github"></a>
    </div>
    
    
        
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>

</header>

<main class="main">
	<div class="drawer">
		<nav aria-label="Navigation">
  <a href="https://laradock.io/" class="project">
    <div class="banner">
      
        <div class="logo">
          <img src="https://laradock.io/images/logo.png">
        </div>

      
      
        
        
      
    </div>
  </a>

  <div class="scrollable">
    <div class="wrapper">
      

      <div class="toc">
        
        <ul>
          




<li>
  
    



<a  title="1. Introduction" href="https://laradock.io/introduction/">
	
	1. Introduction
</a>



  
</li>



<li>
  
    



<a  title="2. Getting Started" href="https://laradock.io/getting-started/">
	
	2. Getting Started
</a>



  
</li>



<li>
  
    



<a  title="3. Documentation" href="https://laradock.io/documentation/">
	
	3. Documentation
</a>



  
</li>



<li>
  
    



<a  title="4. Guides" href="https://laradock.io/guides/">
	
	4. Guides
</a>



  
</li>



<li>
  
    



<a  title="5. Help &amp; Questions" href="https://laradock.io/help/">
	
	5. Help &amp; Questions
</a>



  
</li>



<li>
  
    



<a  title="6. Related Projects" href="https://laradock.io/related-projects/">
	
	6. Related Projects
</a>



  
</li>



<li>
  
    



<a  title="7. Contributing" href="https://laradock.io/contributing/">
	
	7. Contributing
</a>



  
</li>



<li>
  
    



<a  title="8. License" href="https://laradock.io/license/">
	
	8. License
</a>



  
</li>


        </ul>
        


        <br>
        <br>
          <div>
            
            
            <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
            
            <ins class="adsbygoogle"
               style="display:inline-block;width:237px;height:600px"
               data-ad-client="ca-pub-9826129398689742"
               data-ad-slot="9891442983"></ins>
            <script>
              (adsbygoogle = window.adsbygoogle || []).push({});
            </script>
            
          </div>
          <br>
          <br>


          
        
        
        
        
          

          
          
            
              
            
          
          

          
        
        
      </div>

    </div>
  </div>
</nav>

	</div>

	<article class="article">
		<div class="wrapper">

			
			<div class='snd-ad'>
				
				
				<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
				
				<ins class="adsbygoogle"
					 style="display:inline-block;width:890px;height:100px"
					 data-ad-client="ca-pub-9826129398689742"
					 data-ad-slot="2340256024"></ins>
				<script>
					(adsbygoogle = window.adsbygoogle || []).push({});
				</script>
				
			</div>

			<br><br><br>
			<img src="https://raw.githubusercontent.com/laradock/laradock/master/.github/home-page-images/laradock-logo.jpg" alt="laradock logo">

			
			<br><br><br><br><br><br>
			<hr>
			<br>
			<h1>1. Introduction </h1>

			

<p><b>Laradock is a full PHP development environment based on Docker.</b></p>

<p>Supporting a variety of common services, all pre-configured to provide a full PHP development environment.</p>

<p><a name="features"></a></p>

<h2 id="features">Features</h2>

<ul>
<li>Easy switch between PHP versions: 7.4, 7.3, 7.2, 7.1, 5.6&hellip;</li>
<li>Choose your favorite database engine: MySQL, Postgres, MariaDB&hellip;</li>
<li>Run your own stack: Memcached, HHVM, RabbitMQ&hellip;</li>
<li>Each software runs on its own container: PHP-FPM, NGINX, PHP-CLI&hellip;</li>
<li>Easy to customize any container, with simple edit to the <code>Dockerfile</code>.</li>
<li>All Images extends from an official base Image. (Trusted base Images).</li>
<li>Pre-configured NGINX to host any code at your root directory.</li>
<li>Can use Laradock per project, or single Laradock for all projects.</li>
<li>Easy to install/remove software&rsquo;s in Containers using environment variables.</li>
<li>Clean and well structured Dockerfiles (<code>Dockerfile</code>).</li>
<li>Latest version of the Docker Compose file (<code>docker-compose</code>).</li>
<li>Everything is visible and editable.</li>
<li>Fast Images Builds.</li>
</ul>

<p><br></p>

<hr />

<h3 id="use-docker-first-then-learn-about-it-later-q">Use Docker First - Then Learn About It Later</q></h3>

<hr />

<p><a name="sponsors"></a></p>

<h2 id="sponsors">Sponsors</h2>

<p><a href="https://opencollective.com/laradock/sponsor/0/website?requireActive=false" target="_blank"><img src="https://opencollective.com/laradock/sponsor/0/avatar.svg?requireActive=false"></a>
<a href="https://opencollective.com/laradock/sponsor/1/website?requireActive=false" target="_blank"><img src="https://opencollective.com/laradock/sponsor/1/avatar.svg?requireActive=false"></a>
<a href="https://opencollective.com/laradock/sponsor/2/website?requireActive=false" target="_blank"><img src="https://opencollective.com/laradock/sponsor/2/avatar.svg?requireActive=false"></a>
<a href="https://opencollective.com/laradock/sponsor/3/website?requireActive=false" target="_blank"><img src="https://opencollective.com/laradock/sponsor/3/avatar.svg?requireActive=false"></a>
<a href="https://opencollective.com/laradock/sponsor/4/website?requireActive=false" target="_blank"><img src="https://opencollective.com/laradock/sponsor/4/avatar.svg?requireActive=false"></a>
<a href="https://opencollective.com/laradock/sponsor/5/website?requireActive=false" target="_blank"><img src="https://opencollective.com/laradock/sponsor/5/avatar.svg?requireActive=false"></a>
<a href="https://opencollective.com/laradock/sponsor/6/website?requireActive=false" target="_blank"><img src="https://opencollective.com/laradock/sponsor/6/avatar.svg?requireActive=false"></a>
<a href="https://opencollective.com/laradock/sponsor/7/website?requireActive=false" target="_blank"><img src="https://opencollective.com/laradock/sponsor/7/avatar.svg?requireActive=false"></a>
<a href="https://opencollective.com/laradock/sponsor/8/website?requireActive=false" target="_blank"><img src="https://opencollective.com/laradock/sponsor/8/avatar.svg?requireActive=false"></a>
<a href="https://opencollective.com/laradock/sponsor/9/website?requireActive=false" target="_blank"><img src="https://opencollective.com/laradock/sponsor/9/avatar.svg?requireActive=false"></a>
<a href="https://opencollective.com/laradock/sponsor/10/website?requireActive=false" target="_blank"><img src="https://opencollective.com/laradock/sponsor/10/avatar.svg?requireActive=false"></a>
<a href="https://opencollective.com/laradock/sponsor/11/website?requireActive=false" target="_blank"><img src="https://opencollective.com/laradock/sponsor/11/avatar.svg?requireActive=false"></a>
<a href="https://opencollective.com/laradock/sponsor/12/website?requireActive=false" target="_blank"><img src="https://opencollective.com/laradock/sponsor/12/avatar.svg?requireActive=false"></a>
<a href="https://opencollective.com/laradock/sponsor/13/website?requireActive=false" target="_blank"><img src="https://opencollective.com/laradock/sponsor/13/avatar.svg?requireActive=false"></a>
<a href="https://opencollective.com/laradock/sponsor/14/website?requireActive=false" target="_blank"><img src="https://opencollective.com/laradock/sponsor/14/avatar.svg?requireActive=false"></a>
<a href="https://opencollective.com/laradock/sponsor/15/website?requireActive=false" target="_blank"><img src="https://opencollective.com/laradock/sponsor/15/avatar.svg?requireActive=false"></a>
<a href="https://opencollective.com/laradock/sponsor/16/website?requireActive=false" target="_blank"><img src="https://opencollective.com/laradock/sponsor/16/avatar.svg?requireActive=false"></a>
<a href="https://opencollective.com/laradock/sponsor/17/website?requireActive=false" target="_blank"><img src="https://opencollective.com/laradock/sponsor/17/avatar.svg?requireActive=false"></a>
<a href="https://opencollective.com/laradock/sponsor/18/website?requireActive=false" target="_blank"><img src="https://opencollective.com/laradock/sponsor/18/avatar.svg?requireActive=false"></a>
<a href="https://opencollective.com/laradock/sponsor/19/website?requireActive=false" target="_blank"><img src="https://opencollective.com/laradock/sponsor/19/avatar.svg?requireActive=false"></a>
<a href="https://opencollective.com/laradock/sponsor/20/website?requireActive=false" target="_blank"><img src="https://opencollective.com/laradock/sponsor/20/avatar.svg?requireActive=false"></a>
<a href="https://opencollective.com/laradock/sponsor/21/website?requireActive=false" target="_blank"><img src="https://opencollective.com/laradock/sponsor/21/avatar.svg?requireActive=false"></a>
<a href="https://opencollective.com/laradock/sponsor/22/website?requireActive=false" target="_blank"><img src="https://opencollective.com/laradock/sponsor/22/avatar.svg?requireActive=false"></a>
<a href="https://opencollective.com/laradock/sponsor/23/website?requireActive=false" target="_blank"><img src="https://opencollective.com/laradock/sponsor/23/avatar.svg?requireActive=false"></a>
<a href="https://opencollective.com/laradock/sponsor/24/website?requireActive=false" target="_blank"><img src="https://opencollective.com/laradock/sponsor/24/avatar.svg?requireActive=false"></a>
<a href="https://opencollective.com/laradock/sponsor/25/website?requireActive=false" target="_blank"><img src="https://opencollective.com/laradock/sponsor/25/avatar.svg?requireActive=false"></a>
<a href="https://opencollective.com/laradock/sponsor/26/website?requireActive=false" target="_blank"><img src="https://opencollective.com/laradock/sponsor/26/avatar.svg?requireActive=false"></a>
<a href="https://opencollective.com/laradock/sponsor/27/website?requireActive=false" target="_blank"><img src="https://opencollective.com/laradock/sponsor/27/avatar.svg?requireActive=false"></a>
<a href="https://opencollective.com/laradock/sponsor/28/website?requireActive=false" target="_blank"><img src="https://opencollective.com/laradock/sponsor/28/avatar.svg?requireActive=false"></a>
<a href="https://opencollective.com/laradock/sponsor/29/website?requireActive=false" target="_blank"><img src="https://opencollective.com/laradock/sponsor/29/avatar.svg?requireActive=false"></a>
<a href="https://opencollective.com/laradock/sponsor/30/website?requireActive=false" target="_blank"><img src="https://opencollective.com/laradock/sponsor/30/avatar.svg?requireActive=false"></a>
<a href="https://opencollective.com/laradock/sponsor/31/website?requireActive=false" target="_blank"><img src="https://opencollective.com/laradock/sponsor/31/avatar.svg?requireActive=false"></a>
<a href="https://opencollective.com/laradock/sponsor/32/website?requireActive=false" target="_blank"><img src="https://opencollective.com/laradock/sponsor/32/avatar.svg?requireActive=false"></a>
<a href="https://opencollective.com/laradock/sponsor/33/website?requireActive=false" target="_blank"><img src="https://opencollective.com/laradock/sponsor/33/avatar.svg?requireActive=false"></a>
<a href="https://opencollective.com/laradock/sponsor/34/website?requireActive=false" target="_blank"><img src="https://opencollective.com/laradock/sponsor/34/avatar.svg?requireActive=false"></a>
<a href="https://opencollective.com/laradock/sponsor/35/website?requireActive=false" target="_blank"><img src="https://opencollective.com/laradock/sponsor/35/avatar.svg?requireActive=false"></a>
<a href="https://opencollective.com/laradock/sponsor/36/website?requireActive=false" target="_blank"><img src="https://opencollective.com/laradock/sponsor/36/avatar.svg?requireActive=false"></a>
<a href="https://opencollective.com/laradock/sponsor/37/website?requireActive=false" target="_blank"><img src="https://opencollective.com/laradock/sponsor/37/avatar.svg?requireActive=false"></a>
<a href="https://opencollective.com/laradock/sponsor/38/website?requireActive=false" target="_blank"><img src="https://opencollective.com/laradock/sponsor/38/avatar.svg?requireActive=false"></a>
<a href="https://opencollective.com/laradock/sponsor/39/website?requireActive=false" target="_blank"><img src="https://opencollective.com/laradock/sponsor/39/avatar.svg?requireActive=false"></a>
<a href="https://opencollective.com/laradock/sponsor/40/website?requireActive=false" target="_blank"><img src="https://opencollective.com/laradock/sponsor/40/avatar.svg?requireActive=false"></a>
<a href="https://opencollective.com/laradock/sponsor/41/website?requireActive=false" target="_blank"><img src="https://opencollective.com/laradock/sponsor/41/avatar.svg?requireActive=false"></a>
<a href="https://opencollective.com/laradock/sponsor/42/website?requireActive=false" target="_blank"><img src="https://opencollective.com/laradock/sponsor/42/avatar.svg?requireActive=false"></a>
<a href="https://opencollective.com/laradock/sponsor/43/website?requireActive=false" target="_blank"><img src="https://opencollective.com/laradock/sponsor/43/avatar.svg?requireActive=false"></a>
<a href="https://opencollective.com/laradock/sponsor/44/website?requireActive=false" target="_blank"><img src="https://opencollective.com/laradock/sponsor/44/avatar.svg?requireActive=false"></a>
<a href="https://opencollective.com/laradock/sponsor/45/website?requireActive=false" target="_blank"><img src="https://opencollective.com/laradock/sponsor/45/avatar.svg?requireActive=false"></a>
<a href="https://opencollective.com/laradock/sponsor/46/website?requireActive=false" target="_blank"><img src="https://opencollective.com/laradock/sponsor/46/avatar.svg?requireActive=false"></a>
<a href="https://opencollective.com/laradock/sponsor/47/website?requireActive=false" target="_blank"><img src="https://opencollective.com/laradock/sponsor/47/avatar.svg?requireActive=false"></a>
<a href="https://opencollective.com/laradock/sponsor/48/website?requireActive=false" target="_blank"><img src="https://opencollective.com/laradock/sponsor/48/avatar.svg?requireActive=false"></a>
<a href="https://opencollective.com/laradock/sponsor/49/website?requireActive=false" target="_blank"><img src="https://opencollective.com/laradock/sponsor/49/avatar.svg?requireActive=false"></a></p>

<p>Support Laradock with your <a href="https://opencollective.com/laradock/contribute/">organization</a>.
<br>
Your logo will show up on the <a href="https://github.com/laradock/laradock/">github repository</a> index page and the <a href="http://laradock.io/">documentation</a> main page.
<br>
For more info contact <a href = "mailto: support@laradock.io">support@laradock.io</a>.</p>

<p><br></p>

<h2 id="quick-overview">Quick Overview</h2>

<p>Let&rsquo;s see how easy it is to setup our demo stack <code>PHP</code>, <code>NGINX</code>, <code>MySQL</code>, <code>Redis</code> and <code>Composer</code>:</p>

<p>1 - Clone Laradock inside your PHP project:</p>

<pre><code class="language-shell">git clone https://github.com/Laradock/laradock.git
</code></pre>

<p>2 - Enter the laradock folder and rename <code>env-example</code> to <code>.env</code>.</p>

<pre><code class="language-shell">cp env-example .env
</code></pre>

<p>3 - Run your containers:</p>

<pre><code class="language-shell">docker-compose up -d nginx mysql phpmyadmin redis workspace 
</code></pre>

<p>4 - Open your project&rsquo;s <code>.env</code> file and set the following:</p>

<pre><code class="language-shell">DB_HOST=mysql
REDIS_HOST=redis
QUEUE_HOST=beanstalkd
</code></pre>

<p>5 - Open your browser and visit localhost: <code>http://localhost</code>.</p>

<pre><code class="language-shell">That's it! enjoy :)
</code></pre>

<p><a name="Supported-Containers"></a></p>

<h2 id="supported-software-docker-images">Supported Software (Docker Images)</h2>

<blockquote>
<p>Laradock, adheres to the &lsquo;separation of concerns&rsquo; principle, thus it runs each software on its own Docker Container.
You can turn On/Off as many instances as you want without worrying about the configurations.</p>

<p>To run a chosen container from the list below, run <code>docker-compose up -d {container-name}</code>.
The container name <code>{container-name}</code> is the same as its folder name. Example to run the &ldquo;PHP FPM&rdquo; container use the name &ldquo;php-fpm&rdquo;.</p>
</blockquote>

<ul>
<li><p><strong>Web Servers:</strong></p>

<ul>
<li>NGINX</li>
<li>Apache2</li>
<li>Caddy</li>
</ul></li>

<li><p><strong>Load Balancers:</strong></p>

<ul>
<li>HAProxy</li>
<li>Traefik</li>
</ul></li>

<li><p><strong>PHP Compilers:</strong></p>

<ul>
<li>PHP FPM</li>
<li>HHVM</li>
</ul></li>

<li><p><strong>Database Management Systems:</strong></p>

<ul>
<li>MySQL</li>
<li>PostgreSQL

<ul>
<li>PostGIS</li>
</ul></li>
<li>MariaDB</li>
<li>Percona</li>
<li>MSSQL</li>
<li>MongoDB

<ul>
<li>MongoDB Web UI</li>
</ul></li>
<li>Neo4j</li>
<li>CouchDB</li>
<li>RethinkDB</li>
<li>Cassandra</li>
</ul></li>

<li><p><strong>Database Management Apps:</strong></p>

<ul>
<li>PhpMyAdmin</li>
<li>Adminer</li>
<li>PgAdmin</li>
</ul></li>

<li><p><strong>Cache Engines:</strong></p>

<ul>
<li>Redis

<ul>
<li>Redis Web UI</li>
<li>Redis Cluster</li>
</ul></li>
<li>Memcached</li>
<li>Aerospike</li>
<li>Varnish</li>
</ul></li>

<li><p><strong>Message Brokers:</strong></p>

<ul>
<li>RabbitMQ

<ul>
<li>RabbitMQ Admin Console</li>
</ul></li>
<li>Beanstalkd

<ul>
<li>Beanstalkd Admin Console</li>
</ul></li>
<li>Eclipse Mosquitto</li>
<li>PHP Worker</li>
<li>Laravel Horizon</li>
<li>Gearman</li>
</ul></li>

<li><p><strong>Mail Servers:</strong></p>

<ul>
<li>Mailu</li>
<li>Mailhog</li>
<li>MailDev</li>
</ul></li>

<li><p><strong>Log Management:</strong></p>

<ul>
<li>GrayLog</li>
</ul></li>

<li><p><strong>Testing:</strong></p>

<ul>
<li>Selenium</li>
</ul></li>

<li><p><strong>Monitoring:</strong></p>

<ul>
<li>Grafana</li>
<li>NetData</li>
</ul></li>

<li><p><strong>Search Engines:</strong></p>

<ul>
<li>ElasticSearch</li>
<li>Apache Solr</li>
<li>Manticore Search</li>
</ul></li>

<li><p><strong>IDE&rsquo;s</strong></p>

<ul>
<li>ICE Coder</li>
<li>Theia</li>
<li>Web IDE</li>
</ul></li>

<li><p><strong>Miscellaneous:</strong></p>

<ul>
<li>Workspace <em>(Laradock container that includes a rich set of pre-configured useful tools)</em>

<ul>
<li><code>PHP CLI</code></li>
<li><code>Composer</code></li>
<li><code>Git</code></li>
<li><code>Vim</code></li>
<li><code>xDebug</code></li>
<li><code>Linuxbrew</code></li>
<li><code>Node</code></li>
<li><code>V8JS</code></li>
<li><code>Gulp</code></li>
<li><code>SQLite</code></li>
<li><code>Laravel Envoy</code></li>
<li><code>Deployer</code></li>
<li><code>Yarn</code></li>
<li><code>SOAP</code></li>
<li><code>Drush</code></li>
<li><code>Wordpress CLI</code></li>
</ul></li>
<li>Apache ZooKeeper <em>(Centralized service for distributed systems to a hierarchical key-value store)</em></li>
<li>Kibana <em>(Visualize your Elasticsearch data and navigate the Elastic Stack)</em></li>
<li>LogStash <em>(Server-side data processing pipeline that ingests data from a multitude of sources simultaneously)</em></li>
<li>Jenkins <em>(automation server, that provides plugins to support building, deploying and automating any project)</em></li>
<li>Certbot <em>(Automatically enable HTTPS on your website)</em></li>
<li>Swoole <em>(Production-Grade Async programming Framework for PHP)</em></li>
<li>SonarQube <em>(continuous inspection of code quality to perform automatic reviews with static analysis of code to detect bugs and more)</em></li>
<li>Gitlab <em>(A single application for the entire software development lifecycle)</em></li>
<li>PostGIS <em>(Database extender for PostgreSQL. It adds support for geographic objects allowing location queries to be run in SQL)</em></li>
<li>Blackfire <em>(Empowers all PHP developers and IT/Ops to continuously verify and improve their app&rsquo;s performance)</em></li>
<li>Laravel Echo <em>(Bring the power of WebSockets to your Laravel applications)</em></li>
<li>Phalcon <em>(A PHP web framework based on the model–view–controller pattern)</em></li>
<li>Minio <em>(Cloud storage server released under Apache License v2, compatible with Amazon S3)</em></li>
<li>AWS EB CLI <em>(CLI that helps you deploy and manage your AWS Elastic Beanstalk applications and environments)</em></li>
<li>Thumbor <em>(Photo thumbnail service)</em></li>
<li>IPython <em>(Provides a rich architecture for interactive computing)</em></li>
<li>Jupyter Hub <em>(Jupyter notebook for multiple users)</em></li>
<li>Portainer <em>(Build and manage your Docker environments with ease)</em></li>
<li>Docker Registry <em>(The Docker Registry implementation for storing and distributing Docker images)</em></li>
<li>Docker Web UI <em>(A browser-based solution for browsing and modifying a private Docker registry)</em></li>
</ul></li>
</ul>

<p>You can choose, which tools to install in your workspace container and other containers, from the <code>.env</code> file.</p>

<blockquote>
<p>If you modify <code>docker-compose.yml</code>, <code>.env</code> or any <code>dockerfile</code> file, you must re-build your containers, to see those effects in the running instance.</p>
</blockquote>

<p><em>If you can&rsquo;t find your Software in the list, build it yourself and submit it. Contributions are welcomed :)</em></p>

<hr />

<p><a name="Chat"></a></p>

<h2 id="chat-with-us">Chat with us</h2>

<p>You are welcome to join our chat room on Gitter.</p>

<p><a href="https://gitter.im/Laradock/laradock?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge"><img src="https://badges.gitter.im/Laradock/laradock.svg" alt="Gitter" /></a></p>

<hr />

<p>Laradock exists thanks to all the people who contribute.</p>

<h2 id="project-maintainers">Project Maintainers</h2>

<table>
  <tbody>
    <tr>
        <td align="center" valign="top">
            <img width="125" height="125" src="https://github.com/mahmoudz.png?s=150">
            <br>
            <strong>Mahmoud Zalt</strong>
            <br>
            <a href="https://github.com/Mahmoudz">@mahmoudz</a>
        </td>
        <td align="center" valign="top">
            <img width="125" height="125" src="https://github.com/appleboy.png?s=150">
            <br>
            <strong>Bo-Yi Wu</strong>
            <br>
            <a href="https://github.com/Mahmoudz">@appleboy</a>
        </td>
        <td align="center" valign="top">
            <img width="125" height="125" src="https://github.com/philtrep.png?s=150">
            <br>
            <strong>Philippe Trépanier</strong>
            <br>
            <a href="https://github.com/Mahmoudz">@philtrep</a>
        </td>
        <td align="center" valign="top">
            <img width="125" height="125" src="https://github.com/mikeerickson.png?s=150">
            <br>
            <strong>Mike Erickson</strong>
            <br>
            <a href="https://github.com/Mahmoudz">@mikeerickson</a>
        </td>
        <td align="center" valign="top">
            <img width="125" height="125" src="https://github.com/zeroc0d3.png?s=150">
            <br>
            <strong>Dwi Fahni Denni</strong>
            <br>
            <a href="https://github.com/Mahmoudz">@zeroc0d3</a>
        </td>
     </tr>
     <tr>
        <td align="center" valign="top">
            <img width="125" height="125" src="https://github.com/thorerik.png?s=150">
            <br>
            <strong>Thor Erik</strong>
            <br>
            <a href="https://github.com/Mahmoudz">@thorerik</a>
        </td>
        <td align="center" valign="top">
            <img width="125" height="125" src="https://github.com/winfried-van-loon.png?s=150">
            <br>
            <strong>Winfried van Loon</strong>
            <br>
            <a href="https://github.com/Mahmoudz">@winfried-van-loon</a>
        </td>
        <td align="center" valign="top">
            <img width="125" height="125" src="https://github.com/sixlive.png?s=150">
            <br>
            <strong>TJ Miller</strong>
            <br>
            <a href="https://github.com/Mahmoudz">@sixlive</a>
        </td>
        <td align="center" valign="top">
            <img width="125" height="125" src="https://github.com/bestlong.png?s=150">
            <br>
            <strong>Yu-Lung Shao (Allen)</strong>
            <br>
            <a href="https://github.com/Mahmoudz">@bestlong</a>
        </td>
        <td align="center" valign="top">
            <img width="125" height="125" src="https://github.com/urukalo.png?s=150">
            <br>
            <strong>Milan Urukalo</strong>
            <br>
            <a href="https://github.com/Mahmoudz">@urukalo</a>
        </td>
     </tr>
     <tr>
        <td align="center" valign="top">
            <img width="125" height="125" src="https://github.com/vwchu.png?s=150">
            <br>
            <strong>Vince Chu</strong>
            <br>
            <a href="https://github.com/Mahmoudz">@vwchu</a>
        </td>
        <td align="center" valign="top">
            <img width="125" height="125" src="https://github.com/zuohuadong.png?s=150">
            <br>
            <strong>Huadong Zuo</strong>
            <br>
            <a href="https://github.com/Mahmoudz">@zuohuadong</a>
        </td>
        <td align="center" valign="top">
            <img width="125" height="125" src="https://github.com/lanphan.png?s=150">
            <br>
            <strong>Lan Phan</strong>
            <br>
            <a href="https://github.com/Mahmoudz">@lanphan</a>
        </td>
        <td align="center" valign="top">
            <img width="125" height="125" src="https://github.com/ahkui.png?s=150">
            <br>
            <strong>Ahkui</strong>
            <br>
            <a href="https://github.com/Mahmoudz">@ahkui</a>
        </td>
        <td align="center" valign="top">
            <img width="125" height="125" src="https://raw.githubusercontent.com/laradock/laradock/master/.github/home-page-images/join-us.png">
            <br>
            <strong>< Join Us ></strong>
            <br>
            <a href="https://github.com/laradock">@laradock</a>
        </td>
     </tr>
  </tbody>
</table>

<h2 id="code-contributors">Code Contributors</h2>

<p><a href="https://github.com/undefined/undefined/graphs/contributors"><img src="https://opencollective.com/laradock/contributors.svg?width=890&button=false" /></a></p>

<hr />

<p><a name="Donations"></a></p>

<h2 id="financial-contributors">Financial Contributors</h2>

<p>Contribute and help us sustain the project.</p>

<p><b>Option 1:</b> Donate directly to <a href="https://paypal.me/mzmmzz">Paypal</a>.</p>

<p><a href="https://paypal.me/mzmmzz"><img src="https://img.shields.io/badge/Donate-PayPal-green.svg" alt="Donate" /></a></p>

<p><b>Option 2:</b> Support us via <a href="https://beerpay.io/laradock/laradock">BeerPay</a>.</p>

<p><a href="https://beerpay.io/laradock/laradock"><img src="https://beerpay.io/laradock/laradock/badge.svg?style=flat" alt="Beerpay" /></a></p>

<p><b>Option 3:</b> Become a backer on <a href="https://opencollective.com/laradock/contribute">Open Collective</a>.</p>

<p><a href="https://opencollective.com/laradock"><img src="https://opencollective.com/laradock/backer.svg?width=890"></a></p>

			
			<br><br><br><br><br><br>
			<hr>
			<br>
			<h1>2. Getting Started </h1>

			

<h2 id="2-1-requirements">2.1 Requirements</h2>

<ul>
<li><a href="https://git-scm.com/downloads">Git</a></li>
<li><a href="https://www.docker.com/products/docker/">Docker</a> <code>&gt;= 17.12</code></li>
</ul>

<h2 id="2-2-installation">2.2 Installation</h2>

<p>Choose the setup the best suits your needs.</p>

<ul>
<li><a href="#A">A) Setup for Single Project</a>

<ul>
<li><a href="#A1">A.1) Already have a PHP project</a></li>
<li><a href="#A2">A.2) Don&rsquo;t have a PHP project yet</a></li>
</ul></li>
<li><a href="#B">B) Setup for Multiple Projects</a></li>
</ul>

<p><a name="A"></a></p>

<h3 id="a-setup-for-single-project">A) Setup for Single Project</h3>

<blockquote>
<p>(Follow these steps if you want a separate Docker environment for each project)</p>
</blockquote>

<p><a name="A1"></a></p>

<h3 id="a-1-already-have-a-php-project">A.1) Already have a PHP project:</h3>

<p>1 - Clone laradock on your project root directory:</p>

<pre><code class="language-bash">git submodule add https://github.com/Laradock/laradock.git
</code></pre>

<p>Note: If you are not using Git yet for your project, you can use <code>git clone</code> instead of <code>git submodule</code>.</p>

<p><em>To keep track of your Laradock changes, between your projects and also keep Laradock updated <a href="https://laradock.io/documentation/#keep-track-of-your-laradock-changes">check these docs</a></em></p>

<p>2 - Make sure your folder structure should look like this:</p>

<pre><code>+ project-a
  + laradock-a
+ project-b
  + laradock-b
</code></pre>

<p><em>(It&rsquo;s important to rename the laradock folders to unique name in each project, if you want to run laradock per project).</em></p>

<p>3 - Go to the <a href="#Usage">Usage</a> section.</p>

<p><a name="A2"></a></p>

<h3 id="a-2-don-t-have-a-php-project-yet">A.2) Don&rsquo;t have a PHP project yet:</h3>

<p>1 - Clone this repository anywhere on your machine:</p>

<pre><code class="language-bash">git clone https://github.com/laradock/laradock.git
</code></pre>

<p>Your folder structure should look like this:</p>

<pre><code>+ laradock
+ project-z
</code></pre>

<p>2 - Edit your web server sites configuration.</p>

<p>We&rsquo;ll need to do step 1 of the <a href="#Usage">Usage</a> section now to make this happen.</p>

<pre><code>cp env-example .env
</code></pre>

<p>At the top, change the <code>APP_CODE_PATH_HOST</code> variable to your project path.</p>

<pre><code>APP_CODE_PATH_HOST=../project-z/
</code></pre>

<p>Make sure to replace <code>project-z</code> with your project folder name.</p>

<p>3 - Go to the <a href="#Usage">Usage</a> section.</p>

<p><a name="B"></a></p>

<h3 id="b-setup-for-multiple-projects">B) Setup for Multiple Projects:</h3>

<blockquote>
<p>(Follow these steps if you want a single Docker environment for all your projects)</p>
</blockquote>

<p>1 - Clone this repository anywhere on your machine (similar to <a href="#A2">Steps A.2. from above</a>):</p>

<pre><code class="language-bash">git clone https://github.com/laradock/laradock.git
</code></pre>

<p>Your folder structure should look like this:</p>

<pre><code>+ laradock
+ project-1
+ project-2
</code></pre>

<p>2 - Go to your web server and create config files to point to different project directory when visiting different domains:</p>

<p>For <strong>Nginx</strong> go to <code>nginx/sites</code>, for <strong>Apache2</strong> <code>apache2/sites</code>.</p>

<p>Laradock by default includes some sample files for you to copy <code>app.conf.example</code>, <code>laravel.conf.example</code> and <code>symfony.conf.example</code>.</p>

<p>3 - change the default names <code>*.conf</code>:</p>

<p>You can rename the config files, project folders and domains as you like, just make sure the <code>root</code> in the config files, is pointing to the correct project folder name.</p>

<p>4 - Add the domains to the <strong>hosts</strong> files.</p>

<pre><code>127.0.0.1  project-1.test
127.0.0.1  project-2.test
...
</code></pre>

<p>If you use Chrome 63 or above for development, don&rsquo;t use <code>.dev</code>. <a href="https://laravel-news.com/chrome-63-now-forces-dev-domains-https">Why?</a>. Instead use <code>.localhost</code>, <code>.invalid</code>, <code>.test</code>, or <code>.example</code>.</p>

<p>4 - Go to the <a href="#Usage">Usage</a> section.</p>

<p><a name="Usage"></a></p>

<h2 id="2-3-usage">2.3 Usage</h2>

<p><strong>Read Before starting:</strong></p>

<p>If you are using <strong>Docker Toolbox</strong> (VM), do one of the following:</p>

<ul>
<li>Upgrade to Docker <a href="https://www.docker.com/products/docker">Native</a> for Mac/Windows (Recommended). Check out <a href="https://laradock.io/documentation/#upgrading-laradock">Upgrading Laradock</a></li>
<li>Use Laradock v3.*. Visit the <a href="https://github.com/laradock/laradock/tree/LaraDock-ToolBox">Laradock-ToolBox</a> branch. <em>(outdated)</em></li>
</ul>

<p><br></p>

<p>We recommend using a Docker version which is newer than 1.13.</p>

<p><br></p>

<blockquote>
<p><strong>Warning:</strong> If you used an older version of Laradock it&rsquo;s highly recommended to rebuild the containers you need to use <a href="#Build-Re-build-Containers">see how you rebuild a container</a> in order to prevent as much errors as possible.</p>
</blockquote>

<p><br></p>

<p>1 - Enter the laradock folder and copy <code>env-example</code> to <code>.env</code></p>

<pre><code class="language-shell">cp env-example .env
</code></pre>

<p>You can edit the <code>.env</code> file to choose which software&rsquo;s you want to be installed in your environment. You can always refer to the <code>docker-compose.yml</code> file to see how those variables are being used.</p>

<p>Depending on the host&rsquo;s operating system you may need to change the value given to <code>COMPOSE_FILE</code>. When you are running Laradock on Mac OS the correct file separator to use is <code>:</code>. When running Laradock from a Windows environment multiple files must be separated with <code>;</code>.</p>

<p>By default the containers that will be created have the current directory name as suffix (e.g. <code>laradock_workspace_1</code>). This can cause mixture of data inside the container volumes if you use laradock in multiple projects. In this case, either read the guide for <a href="#B">multiple projects</a> or change the variable <code>COMPOSE_PROJECT_NAME</code> to something unique like your project name.</p>

<p>2 - Build the environment and run it using <code>docker-compose</code></p>

<p>In this example we&rsquo;ll see how to run NGINX (web server) and MySQL (database engine) to host a PHP Web Scripts:</p>

<pre><code class="language-bash">docker-compose up -d nginx mysql
</code></pre>

<p><strong>Note</strong>: All the web server containers <code>nginx</code>, <code>apache</code> ..etc depends on <code>php-fpm</code>, which means if you run any of them, they will automatically launch the <code>php-fpm</code> container for you, so no need to explicitly specify it in the <code>up</code> command. If you have to do so, you may need to run them as follows: <code>docker-compose up -d nginx php-fpm mysql</code>.</p>

<p>You can select your own combination of containers from <a href="http://laradock.io/introduction/#supported-software-images">this list</a>.</p>

<p><em>(Please note that sometimes we forget to update the docs, so check the <code>docker-compose.yml</code> file to see an updated list of all available containers).</em></p>

<p><br>
3 - Enter the Workspace container, to execute commands like (Artisan, Composer, PHPUnit, Gulp, &hellip;)</p>

<pre><code class="language-bash">docker-compose exec workspace bash
</code></pre>

<p><em>Alternatively, for Windows PowerShell users: execute the following command to enter any running container:</em></p>

<pre><code class="language-bash">docker exec -it {workspace-container-id} bash
</code></pre>

<p><strong>Note:</strong> You can add <code>--user=laradock</code> to have files created as your host&rsquo;s user. Example:</p>

<pre><code class="language-shell">docker-compose exec --user=laradock workspace bash
</code></pre>

<p><em>You can change the PUID (User id) and PGID (group id) variables from the <code>.env</code> file)</em></p>

<p><br>
4 - Update your project configuration to use the database host</p>

<p>Open your PHP project&rsquo;s <code>.env</code> file or whichever configuration file you are reading from, and set the database host <code>DB_HOST</code> to <code>mysql</code>:</p>

<pre><code class="language-env">DB_HOST=mysql
</code></pre>

<p>You need to use the Laradock&rsquo;s default DB credentials which can be found in the <code>.env</code> file (ex: <code>MYSQL_USER=</code>).
Or you can change them and rebuild the container.</p>

<p><em>If you want to install Laravel as PHP project, see <a href="#Install-Laravel">How to Install Laravel in a Docker Container</a>.</em></p>

<p><br>
5 - Open your browser and visit your localhost address.</p>

<p>If you followed the multiple projects setup, you can visit <code>http://project-1.test/</code> and <code>http://project-2.test/</code>.</p>

<p><a href="http://localhost:8080">http://localhost:8080</a></p>

<p>Make sure you add use the right port number as provided by your running server. Ex: NGINX uses port 8080 by default while Apache2 uses 80.</p>

			
			<br><br><br><br><br><br>
			<hr>
			<br>
			<h1>3. Documentation </h1>

			

<p><a name="List-current-running-Containers"></a></p>

<h2 id="list-current-running-containers">List current running Containers</h2>

<pre><code class="language-bash">docker ps
</code></pre>

<p>You can also use the following command if you want to see only this project containers:</p>

<pre><code class="language-bash">docker-compose ps
</code></pre>

<p><br>
<a name="Close-all-running-Containers"></a></p>

<h2 id="close-all-running-containers">Close all running Containers</h2>

<pre><code class="language-bash">docker-compose stop
</code></pre>

<p>To stop single container do:</p>

<pre><code class="language-bash">docker-compose stop {container-name}
</code></pre>

<p><br>
<a name="Delete-all-existing-Containers"></a></p>

<h2 id="delete-all-existing-containers">Delete all existing Containers</h2>

<pre><code class="language-bash">docker-compose down
</code></pre>

<p><br>
<a name="Enter-Container"></a></p>

<h2 id="enter-a-container-run-commands-in-a-running-container">Enter a Container (run commands in a running Container)</h2>

<p>1 - First list the current running containers with <code>docker ps</code></p>

<p>2 - Enter any container using:</p>

<pre><code class="language-bash">docker-compose exec {container-name} bash
</code></pre>

<p><em>Example: enter MySQL container</em></p>

<pre><code class="language-bash">docker-compose exec mysql bash
</code></pre>

<p><em>Example: enter to MySQL prompt within MySQL container</em></p>

<pre><code class="language-bash">docker-compose exec mysql mysql -udefault -psecret
</code></pre>

<p>3 - To exit a container, type <code>exit</code>.</p>

<p><br>
<a name="Edit-Container"></a></p>

<h2 id="edit-default-container-configuration">Edit default container configuration</h2>

<p>Open the <code>docker-compose.yml</code> and change anything you want.</p>

<p>Examples:</p>

<p>Change MySQL Database Name:</p>

<pre><code class="language-yml">    environment:
        MYSQL_DATABASE: laradock
    ...
</code></pre>

<p>Change Redis default port to 1111:</p>

<pre><code class="language-yml">    ports:
        - &quot;1111:6379&quot;
    ...
</code></pre>

<p><br>
<a name="Edit-a-Docker-Image"></a></p>

<h2 id="edit-a-docker-image">Edit a Docker Image</h2>

<p>1 - Find the <code>Dockerfile</code> of the image you want to edit,
<br>
example for <code>mysql</code> it will be <code>mysql/Dockerfile</code>.</p>

<p>2 - Edit the file the way you want.</p>

<p>3 - Re-build the container:</p>

<pre><code class="language-bash">docker-compose build mysql
</code></pre>

<p>More info on Containers rebuilding <a href="#Build-Re-build-Containers">here</a>.</p>

<p><br>
<a name="Build-Re-build-Containers"></a></p>

<h2 id="build-re-build-containers">Build/Re-build Containers</h2>

<p>If you do any change to any <code>Dockerfile</code> make sure you run this command, for the changes to take effect:</p>

<pre><code class="language-bash">docker-compose build
</code></pre>

<p>Optionally you can specify which container to rebuild (instead of rebuilding all the containers):</p>

<pre><code class="language-bash">docker-compose build {container-name}
</code></pre>

<p>You might use the <code>--no-cache</code> option if you want full rebuilding (<code>docker-compose build --no-cache {container-name}</code>).</p>

<p><br>
<a name="Add-Docker-Images"></a></p>

<h2 id="add-more-software-docker-images">Add more Software (Docker Images)</h2>

<p>To add an image (software), just edit the <code>docker-compose.yml</code> and add your container details, to do so you need to be familiar with the <a href="https://docs.docker.com/compose/compose-file/">docker compose file syntax</a>.</p>

<p><br>
<a name="View-the-Log-files"></a></p>

<h2 id="view-the-log-files">View the Log files</h2>

<p>The NGINX Log file is stored in the <code>logs/nginx</code> directory.</p>

<p>However to view the logs of all the other containers (MySQL, PHP-FPM,&hellip;) you can run this:</p>

<pre><code class="language-bash">docker-compose logs {container-name}
</code></pre>

<pre><code class="language-bash">docker-compose logs -f {container-name}
</code></pre>

<p>More <a href="https://docs.docker.com/compose/reference/logs/">options</a></p>

<p><br>
<a name="PHP"></a></p>

<p><a name="Install-PHP-Extensions"></a></p>

<h2 id="install-php-extensions">Install PHP Extensions</h2>

<p>Before installing PHP extensions, you have to decide first whether you need <code>FPM</code> or <code>CLI</code>, because each of them has it&rsquo;s own different container, if you need it for both, you have to edit both containers.</p>

<p>The PHP-FPM extensions should be installed in <code>php-fpm/Dockerfile-XX</code>. <em>(replace XX with your default PHP version number)</em>.
<br>
The PHP-CLI extensions should be installed in <code>workspace/Dockerfile</code>.</p>

<p><br>
<a name="Change-the-PHP-FPM-Version"></a></p>

<h2 id="change-the-php-fpm-version">Change the (PHP-FPM) Version</h2>

<p>By default the latest stable PHP versin is configured to run.</p>

<blockquote>
<p>The PHP-FPM is responsible of serving your application code, you don&rsquo;t have to change the PHP-CLI version if you are planning to run your application on different PHP-FPM version.</p>
</blockquote>

<h3 id="a-switch-from-php-7-2-to-php-5-6">A) Switch from PHP <code>7.2</code> to PHP <code>5.6</code></h3>

<p>1 - Open the <code>.env</code>.</p>

<p>2 - Search for <code>PHP_VERSION</code>.</p>

<p>3 - Set the desired version number:</p>

<pre><code class="language-dotenv">PHP_VERSION=5.6
</code></pre>

<p>4 - Finally rebuild the image</p>

<pre><code class="language-bash">docker-compose build php-fpm
</code></pre>

<blockquote>
<p>For more details about the PHP base image, visit the <a href="https://hub.docker.com/_/php/">official PHP docker images</a>.</p>
</blockquote>

<p><br>
<a name="Change-the-PHP-CLI-Version"></a></p>

<h2 id="change-the-php-cli-version">Change the PHP-CLI Version</h2>

<blockquote>
<p>Note: it&rsquo;s not very essential to edit the PHP-CLI version. The PHP-CLI is only used for the Artisan Commands &amp; Composer. It doesn&rsquo;t serve your Application code, this is the PHP-FPM job.</p>
</blockquote>

<p>The PHP-CLI is installed in the Workspace container. To change the PHP-CLI version you need to simply change the <code>PHP_VERSION</code> in te .env file as follow:</p>

<p>1 - Open the <code>.env</code>.</p>

<p>2 - Search for <code>PHP_VERSION</code>.</p>

<p>3 - Set the desired version number:</p>

<pre><code class="language-dotenv">PHP_VERSION=7.2
</code></pre>

<p>4 - Finally rebuild the image</p>

<pre><code class="language-bash">docker-compose build workspace
</code></pre>

<p><br>
<a name="Install-xDebug"></a></p>

<h2 id="install-xdebug">Install xDebug</h2>

<p>1 - First install <code>xDebug</code> in the Workspace and the PHP-FPM Containers:
<br>
a) open the <code>.env</code> file
<br>
b) search for the <code>WORKSPACE_INSTALL_XDEBUG</code> argument under the Workspace Container
<br>
c) set it to <code>true</code>
<br>
d) search for the <code>PHP_FPM_INSTALL_XDEBUG</code> argument under the PHP-FPM Container
<br>
e) set it to <code>true</code></p>

<p>2 - Re-build the containers <code>docker-compose build workspace php-fpm</code></p>

<p>For information on how to configure xDebug with your IDE and work it out, check this <a href="https://github.com/LarryEitel/laravel-laradock-phpstorm">Repository</a> or follow up on the next section if you use linux and PhpStorm.</p>

<p><br>
<a name="Control-xDebug"></a></p>

<h2 id="start-stop-xdebug">Start/Stop xDebug:</h2>

<p>By installing xDebug, you are enabling it to run on startup by default.</p>

<p>To control the behavior of xDebug (in the <code>php-fpm</code> Container), you can run the following commands from the Laradock root folder, (at the same prompt where you run docker-compose):</p>

<ul>
<li>Stop xDebug from running by default: <code>.php-fpm/xdebug stop</code>.</li>
<li>Start xDebug by default: <code>.php-fpm/xdebug start</code>.</li>
<li>See the status: <code>.php-fpm/xdebug status</code>.</li>
</ul>

<p>Note: If <code>.php-fpm/xdebug</code> doesn&rsquo;t execute and gives <code>Permission Denied</code> error the problem can be that file <code>xdebug</code> doesn&rsquo;t have execution access. This can be fixed by running <code>chmod</code> command  with desired access permissions.</p>

<p><br>
<a name="Install-phpdbg"></a></p>

<h2 id="install-phpdbg">Install phpdbg</h2>

<p>Install <code>phpdbg</code> in the Workspace and the PHP-FPM Containers:</p>

<p><br>
1 - Open the <code>.env</code>.</p>

<p>2 - Search for <code>WORKSPACE_INSTALL_PHPDBG</code>.</p>

<p>3 - Set value to <code>true</code></p>

<p>4 - Do the same for <code>PHP_FPM_INSTALL_PHPDBG</code></p>

<pre><code class="language-dotenv">WORKSPACE_INSTALL_PHPDBG=true
</code></pre>

<pre><code class="language-dotenv">PHP_FPM_INSTALL_PHPDBG=true
</code></pre>

<p><br>
<a name="Install-ionCube-Loader"></a></p>

<h2 id="install-ioncube-loader">Install ionCube Loader</h2>

<p>1 - First install <code>ionCube Loader</code> in the Workspace and the PHP-FPM Containers:
<br>
a) open the <code>.env</code> file
<br>
b) search for the <code>WORKSPACE_INSTALL_IONCUBE</code> argument under the Workspace Container
<br>
c) set it to <code>true</code>
<br>
d) search for the <code>PHP_FPM_INSTALL_IONCUBE</code> argument under the PHP-FPM Container
<br>
e) set it to <code>true</code></p>

<p>2 - Re-build the containers <code>docker-compose build workspace php-fpm</code></p>

<p>Always download the latest version of <a href="http://www.ioncube.com/loaders.php">Loaders for ionCube </a>.</p>

<p><br>
<a name="Install-Deployer"></a></p>

<h2 id="install-deployer-deployment-tool-for-php">Install Deployer (Deployment tool for PHP)</h2>

<p>1 - Open the <code>.env</code> file
<br>
2 - Search for the <code>WORKSPACE_INSTALL_DEPLOYER</code> argument under the Workspace Container
<br>
3 - Set it to <code>true</code>
<br></p>

<p>4 - Re-build the containers <code>docker-compose build workspace</code></p>

<p><a href="https://deployer.org/docs"><strong>Deployer Documentation Here</strong></a></p>

<p><br>
<a name="Install-SonarQube"></a></p>

<h2 id="install-sonarqube-automatic-code-review-tool">Install SonarQube (automatic code review tool)</h2>

<p>SonarQube® is an automatic code review tool to detect bugs, vulnerabilities and code smells in your code. It can integrate with your existing workflow to enable continuous code inspection across your project branches and pull requests.
<br>
1 - Open the <code>.env</code> file
<br>
2 - Search for the <code>SONARQUBE_HOSTNAME=sonar.example.com</code> argument
<br>
3 - Set it to your-domain <code>sonar.example.com</code>
<br>
4 - <code>docker-compose up -d sonarqube</code>
<br>
5 - Open your browser: <a href="http://localhost:9000/">http://localhost:9000/</a></p>

<p>Troubleshooting:</p>

<p>if you encounter a database error:</p>

<pre><code>docker-compose exec --user=root postgres
source docker-entrypoint-initdb.d/init_sonarqube_db.sh
</code></pre>

<p>If you encounter logs error:</p>

<pre><code>docker-compose run --user=root --rm sonarqube chown sonarqube:sonarqube /opt/sonarqube/logs
</code></pre>

<p><a href="https://docs.sonarqube.org/latest/"><strong>SonarQube Documentation Here</strong></a></p>

<p><br>
<a name="Production"></a></p>

<p><br>
<a name="Laradock-for-Production"></a></p>

<h2 id="prepare-laradock-for-production">Prepare Laradock for Production</h2>

<p>It&rsquo;s recommended for production to create a custom <code>docker-compose.yml</code> file, for example <code>production-docker-compose.yml</code></p>

<p>In your new production <code>docker-compose.yml</code> file you should contain only the containers you are planning to run in production (usage example: <code>docker-compose -f production-docker-compose.yml up -d nginx mysql redis ...</code>).</p>

<p>Note: The Database (MySQL/MariaDB/&hellip;) ports should not be forwarded on production, because Docker will automatically publish the port on the host, which is quite insecure, unless specifically told not to. So make sure to remove these lines:</p>

<pre><code>ports:
    - &quot;3306:3306&quot;
</code></pre>

<p>To learn more about how Docker publishes ports, please read <a href="https://fralef.me/docker-and-iptables.html">this excellent post on the subject</a>.</p>

<p><br>
<a name="Digital-Ocean"></a></p>

<h2 id="setup-laravel-and-docker-on-digital-ocean">Setup Laravel and Docker on Digital Ocean</h2>

<h3 id="full-guide-here-guides-digital-ocean"><a href="https://laradock.io/guides/#Digital-Ocean">Full Guide Here</a></h3>

<p><br>
<a name="Laravel"></a></p>

<p><a name="Install-Laravel"></a></p>

<h2 id="install-laravel-from-a-docker-container">Install Laravel from a Docker Container</h2>

<p>1 - First you need to enter the Workspace Container.</p>

<p>2 - Install Laravel.</p>

<p>Example using Composer</p>

<pre><code class="language-bash">composer create-project laravel/laravel my-cool-app &quot;5.2.*&quot;
</code></pre>

<blockquote>
<p>We recommend using <code>composer create-project</code> instead of the Laravel installer, to install Laravel.</p>
</blockquote>

<p>For more about the Laravel installation click <a href="https://laravel.com/docs/master#installing-laravel">here</a>.</p>

<p>3 - Edit <code>.env</code> to Map the new application path:</p>

<p>By default, Laradock assumes the Laravel application is living in the parent directory of the laradock folder.</p>

<p>Since the new Laravel application is in the <code>my-cool-app</code> folder, we need to replace <code>../:/var/www</code> with <code>../my-cool-app/:/var/www</code>, as follow:</p>

<pre><code class="language-dotenv">  APP_CODE_PATH_HOST=../my-cool-app/
</code></pre>

<p>4 - Go to that folder and start working..</p>

<pre><code class="language-bash">cd my-cool-app
</code></pre>

<p>5 - Go back to the Laradock installation steps to see how to edit the <code>.env</code> file.</p>

<p><br>
<a name="Run-Artisan-Commands"></a></p>

<h2 id="run-artisan-commands">Run Artisan Commands</h2>

<p>You can run artisan commands and many other Terminal commands from the Workspace container.</p>

<p>1 - Make sure you have the workspace container running.</p>

<pre><code class="language-bash">docker-compose up -d workspace // ..and all your other containers
</code></pre>

<p>2 - Find the Workspace container name:</p>

<pre><code class="language-bash">docker-compose ps
</code></pre>

<p>3 - Enter the Workspace container:</p>

<pre><code class="language-bash">docker-compose exec workspace bash
</code></pre>

<p>Note: Should add <code>--user=laradock</code> (example <code>docker-compose exec --user=laradock workspace bash</code>) to have files created as your host&rsquo;s user to prevent issue owner of log file will be changed to root then laravel website cannot write on log file if using rotated log and new log file not existed</p>

<p>4 - Run anything you want :)</p>

<pre><code class="language-bash">php artisan
</code></pre>

<pre><code class="language-bash">composer update
</code></pre>

<pre><code class="language-bash">phpunit
</code></pre>

<p><br>
<a name="Run-Laravel-Queue-Worker"></a></p>

<h2 id="run-laravel-queue-worker">Run Laravel Queue Worker</h2>

<p>1 - Create supervisor configuration file (for ex., named <code>laravel-worker.conf</code>) for Laravel Queue Worker in <code>php-worker/supervisord.d/</code> by simply copy from <code>laravel-worker.conf.example</code></p>

<p>2 - Start everything up</p>

<pre><code class="language-bash">docker-compose up -d php-worker
</code></pre>

<p><br>
<a name="Run-Laravel-Scheduler"></a></p>

<h2 id="run-laravel-scheduler">Run Laravel Scheduler</h2>

<p>Laradock provides 2 ways to run Laravel Scheduler
1 - Using cron in workspace container. Most of the time, when you start Laradock, it&rsquo;ll automatically start workspace container with cron inside, along with setting to run <code>schedule:run</code> command every minute.</p>

<p>2 - Using Supervisord in php-worker to run <code>schedule:run</code>. This way is suggested when you don&rsquo;t want to start workspace in production environment.
<br>
a) Comment out cron setting in workspace container, file <code>workspace/crontab/laradock</code></p>

<pre><code class="language-bash"># * * * * * laradock /usr/bin/php /var/www/artisan schedule:run &gt;&gt; /dev/null 2&gt;&amp;1
</code></pre>

<p><br>
b) Create supervisor configuration file (for ex., named <code>laravel-scheduler.conf</code>) for Laravel Scheduler in <code>php-worker/supervisord.d/</code> by simply copy from <code>laravel-scheduler.conf.example</code>
<br>
c) Start php-worker container</p>

<pre><code class="language-bash">docker-compose up -d php-worker
</code></pre>

<p><br>
<a name="Use-Mailu"></a></p>

<h2 id="use-mailu">Use Mailu</h2>

<p>1 - You need register a domain.</p>

<p>2 - Required RECAPTCHA for signup email <a href="https://www.google.com/recaptcha/admin">HERE</a></p>

<p>2 - modify following environment variable in <code>.env</code> file</p>

<pre><code>MAILU_RECAPTCHA_PUBLIC_KEY=&lt;YOUR_RECAPTCHA_PUBLIC_KEY&gt;
MAILU_RECAPTCHA_PRIVATE_KEY=&lt;YOUR_RECAPTCHA_PRIVATE_KEY&gt;
MAILU_DOMAIN=laradock.io
MAILU_HOSTNAMES=mail.laradock.io
</code></pre>

<p>2 - Open your browser and visit <code>http://YOUR_DOMAIN</code>.</p>

<p><br>
<a name="Use-NetData"></a></p>

<h2 id="use-netdata">Use NetData</h2>

<p>1 - Run the NetData Container (<code>netdata</code>) with the <code>docker-compose up</code> command. Example:</p>

<pre><code class="language-bash">docker-compose up -d netdata
</code></pre>

<p>2 - Open your browser and visit the localhost on port <strong>19999</strong>:  <code>http://localhost:19999</code></p>

<p><br>
<a name="Use-Metabase"></a></p>

<h2 id="use-metabase">Use Metabase</h2>

<p>1 - Run the Metabase Container (<code>metbase</code>) with the <code>docker-compose up</code> command. Example:</p>

<pre><code class="language-bash">docker-compose up -d metabase
</code></pre>

<p>2 - Open your browser and visit the localhost on port <strong>3030</strong>:  <code>http://localhost:3030</code></p>

<p>3 - You can use environment to configure Metabase container. See docs in: <a href="https://www.metabase.com/docs/v0.12.0/operations-guide/running-metabase-on-docker.html">Running Metabase on Docker</a></p>

<p><br>
<a name="Use-Jenkins"></a></p>

<h2 id="use-jenkins">Use Jenkins</h2>

<p>1) Boot the container <code>docker-compose up -d jenkins</code>. To enter the container type <code>docker-compose exec jenkins bash</code>.</p>

<p>2) Go to <code>http://localhost:8090/</code> (if you didn&rsquo;t change your default port mapping)</p>

<p>3) Authenticate from the web app.</p>

<ul>
<li>Default username is <code>admin</code>.</li>
<li>Default password is <code>docker-compose exec jenkins cat /var/jenkins_home/secrets/initialAdminPassword</code>.</li>
</ul>

<p>(To enter container as root type <code>docker-compose exec --user root jenkins bash</code>).</p>

<p>4) Install some plugins.</p>

<p>5) Create your first Admin user, or continue as Admin.</p>

<p>Note: to add user go to <code>http://localhost:8090/securityRealm/addUser</code> and to restart it from the web app visit <code>http://localhost:8090/restart</code>.</p>

<p>You may wanna change the default security configuration, so go to <code>http://localhost:8090/configureSecurity/</code> under Authorization and choosing &ldquo;Anyone can do anything&rdquo; or &ldquo;Project-based Matrix Authorization Strategy&rdquo; or anything else.</p>

<p><br>
<a name="Use-Redis"></a></p>

<h2 id="use-redis">Use Redis</h2>

<p>1 - First make sure you run the Redis Container (<code>redis</code>) with the <code>docker-compose up</code> command.</p>

<pre><code class="language-bash">docker-compose up -d redis
</code></pre>

<blockquote>
<p>To execute redis commands, enter the redis container first <code>docker-compose exec redis bash</code> then enter the <code>redis-cli</code>.</p>
</blockquote>

<p>2 - Open your Laravel&rsquo;s <code>.env</code> file and set the <code>REDIS_HOST</code> to <code>redis</code></p>

<pre><code class="language-env">REDIS_HOST=redis
</code></pre>

<p>If you&rsquo;re using Laravel, and you don&rsquo;t find the <code>REDIS_HOST</code> variable in your <code>.env</code> file. Go to the database configuration file <code>config/database.php</code> and replace the default <code>127.0.0.1</code> IP with <code>redis</code> for Redis like this:</p>

<pre><code class="language-php">'redis' =&gt; [
    'cluster' =&gt; false,
    'default' =&gt; [
        'host'     =&gt; 'redis',
        'port'     =&gt; 6379,
        'database' =&gt; 0,
    ],
],
</code></pre>

<p>3 - To enable Redis Caching and/or for Sessions Management. Also from the <code>.env</code> file set <code>CACHE_DRIVER</code> and <code>SESSION_DRIVER</code> to <code>redis</code> instead of the default <code>file</code>.</p>

<pre><code class="language-env">CACHE_DRIVER=redis
SESSION_DRIVER=redis
</code></pre>

<p>4 - Finally make sure you have the <code>predis/predis</code> package <code>(~1.0)</code> installed via Composer:</p>

<pre><code class="language-bash">composer require predis/predis:^1.0
</code></pre>

<p>5 - You can manually test it from Laravel with this code:</p>

<pre><code class="language-php">\Cache::store('redis')-&gt;put('Laradock', 'Awesome', 10);
</code></pre>

<p><br>
<a name="Use-Redis-Cluster"></a></p>

<h2 id="use-redis-cluster">Use Redis Cluster</h2>

<p>1 - First make sure you run the Redis-Cluster Container (<code>redis-cluster</code>) with the <code>docker-compose up</code> command.</p>

<pre><code class="language-bash">docker-compose up -d redis-cluster
</code></pre>

<p>2 - Open your Laravel&rsquo;s <code>config/database.php</code> and set the redis cluster configuration. Below is example configuration with phpredis.</p>

<p>Read the <a href="https://laravel.com/docs/5.7/redis#configuration">Laravel official documentation</a> for more details.</p>

<pre><code class="language-php">'redis' =&gt; [
    'client' =&gt; 'phpredis',
    'options' =&gt; [
        'cluster' =&gt; 'redis',
    ],
    'clusters' =&gt; [
        'default' =&gt; [
            [
                'host' =&gt; 'redis-cluster',
                'password' =&gt; null,
                'port' =&gt; 7000,
                'database' =&gt; 0,
            ],
        ],
    ],
],
</code></pre>

<p><br>
<a name="Use-Mongo"></a></p>

<h2 id="use-mongo">Use Mongo</h2>

<p>1 - First install <code>mongo</code> in the Workspace and the PHP-FPM Containers:
<br>
a) open the <code>.env</code> file
<br>
b) search for the <code>WORKSPACE_INSTALL_MONGO</code> argument under the Workspace Container
<br>
c) set it to <code>true</code>
<br>
d) search for the <code>PHP_FPM_INSTALL_MONGO</code> argument under the PHP-FPM Container
<br>
e) set it to <code>true</code></p>

<p>2 - Re-build the containers <code>docker-compose build workspace php-fpm</code></p>

<p>3 - Run the MongoDB Container (<code>mongo</code>) with the <code>docker-compose up</code> command.</p>

<pre><code class="language-bash">docker-compose up -d mongo
</code></pre>

<p>4 - Add the MongoDB configurations to the <code>config/database.php</code> configuration file:</p>

<pre><code class="language-php">'connections' =&gt; [

    'mongodb' =&gt; [
        'driver'   =&gt; 'mongodb',
        'host'     =&gt; env('DB_HOST', 'localhost'),
        'port'     =&gt; env('DB_PORT', 27017),
        'database' =&gt; env('DB_DATABASE', 'database'),
        'username' =&gt; '',
        'password' =&gt; '',
        'options'  =&gt; [
            'database' =&gt; '',
        ]
    ],

	// ...

],
</code></pre>

<p>5 - Open your Laravel&rsquo;s <code>.env</code> file and update the following variables:</p>

<ul>
<li>set the <code>DB_HOST</code> to your <code>mongo</code>.</li>
<li>set the <code>DB_PORT</code> to <code>27017</code>.</li>
<li>set the <code>DB_DATABASE</code> to <code>database</code>.</li>
</ul>

<p>6 - Finally make sure you have the <code>jenssegers/mongodb</code> package installed via Composer and its Service Provider is added.</p>

<pre><code class="language-bash">composer require jenssegers/mongodb
</code></pre>

<p>More details about this <a href="https://github.com/jenssegers/laravel-mongodb#installation">here</a>.</p>

<p>7 - Test it:</p>

<ul>
<li>First let your Models extend from the Mongo Eloquent Model. Check the <a href="https://github.com/jenssegers/laravel-mongodb#eloquent">documentation</a>.</li>
<li>Enter the Workspace Container.</li>
<li>Migrate the Database <code>php artisan migrate</code>.</li>
</ul>

<p><br>
<a name="Use-phpMyAdmin"></a></p>

<h2 id="use-phpmyadmin">Use PhpMyAdmin</h2>

<p>1 - Run the phpMyAdmin Container (<code>phpmyadmin</code>) with the <code>docker-compose up</code> command. Example:</p>

<pre><code class="language-bash"># use with mysql
docker-compose up -d mysql phpmyadmin

# use with mariadb
docker-compose up -d mariadb phpmyadmin
</code></pre>

<p><em>Note: To use with MariaDB, open <code>.env</code> and set <code>PMA_DB_ENGINE=mysql</code> to <code>PMA_DB_ENGINE=mariadb</code>.</em></p>

<p>2 - Open your browser and visit the localhost on port <strong>8080</strong>:  <code>http://localhost:8080</code></p>

<p><br>
<a name="Use-Gitlab"></a></p>

<h2 id="use-gitlab">Use Gitlab</h2>

<p>1 - Run the Gitlab Container (<code>gitlab</code>) with the <code>docker-compose up</code> command. Example:</p>

<pre><code class="language-bash">docker-compose up -d gitlab
</code></pre>

<p>2 - Open your browser and visit the localhost on port <strong>8989</strong>:  <code>http://localhost:8989</code>
<br>
<em>Note: You may change GITLAB_DOMAIN_NAME to your own domain name like <code>http://gitlab.example.com</code> default is <code>http://localhost</code></em></p>

<p><br>
<a name="Use-Gitlab-Runner"></a></p>

<h2 id="use-gitlab-runner">Use Gitlab Runner</h2>

<p>1 - Retrieve the registration token in your gitlab project (Settings &gt; CI / CD &gt; Runners &gt; Set up a specific Runner manually)</p>

<p>2 - Open the <code>.env</code> file and set the following changes:</p>

<pre><code># so that gitlab container will pass the correct domain to gitlab-runner container
GITLAB_DOMAIN_NAME=http://gitlab

GITLAB_RUNNER_REGISTRATION_TOKEN=&lt;value-in-step-1&gt;

# so that gitlab-runner container will send POST request for registration to correct domain
GITLAB_CI_SERVER_URL=http://gitlab
</code></pre>

<p>3 - Open the <code>docker-compose.yml</code> file and add the following changes:</p>

<pre><code class="language-yml">    gitlab-runner:
      environment: # these values will be used during `gitlab-runner register`
        - RUNNER_EXECUTOR=docker # change from shell (default)
        - DOCKER_IMAGE=alpine
        - DOCKER_NETWORK_MODE=laradock_backend
      networks:
        - backend # connect to network where gitlab service is connected
</code></pre>

<p>4 - Run the Gitlab-Runner Container (<code>gitlab-runner</code>) with the <code>docker-compose up</code> command. Example:</p>

<pre><code class="language-bash">docker-compose up -d gitlab-runner
</code></pre>

<p>5 - Register the gitlab-runner to the gitlab container</p>

<pre><code class="language-bash">docker-compose exec gitlab-runner bash
gitlab-runner register
</code></pre>

<p>6 - Create a <code>.gitlab-ci.yml</code> file for your pipeline</p>

<pre><code class="language-yml">before_script:
  - echo Hello!

job1:
  scripts:
    - echo job1
</code></pre>

<p>7 - Push changes to gitlab</p>

<p>8 - Verify that pipeline is run successful</p>

<p><br>
<a name="Use-Adminer"></a></p>

<h2 id="use-adminer">Use Adminer</h2>

<p>1 - Run the Adminer Container (<code>adminer</code>) with the <code>docker-compose up</code> command. Example:</p>

<pre><code class="language-bash">docker-compose up -d adminer
</code></pre>

<p>2 - Open your browser and visit the localhost on port <strong>8080</strong>:  <code>http://localhost:8080</code></p>

<p><strong>Note:</strong> We&rsquo;ve locked Adminer to version 4.3.0 as at the time of writing <a href="https://sourceforge.net/p/adminer/bugs-and-features/548/">it contained a major bug</a> preventing PostgreSQL users from logging in. If that bug is fixed (or if you&rsquo;re not using PostgreSQL) feel free to set Adminer to the latest version within <a href="https://github.com/laradock/laradock/blob/master/adminer/Dockerfile#L1">the Dockerfile</a>: <code>FROM adminer:latest</code></p>

<p><br>
<a name="Use-Portainer"></a></p>

<h2 id="use-portainer">Use Portainer</h2>

<p>1 - Run the Portainer Container (<code>portainer</code>) with the <code>docker-compose up</code> command. Example:</p>

<pre><code class="language-bash">docker-compose up -d portainer
</code></pre>

<p>2 - Open your browser and visit the localhost on port <strong>9010</strong>:  <code>http://localhost:9010</code></p>

<p><br>
<a name="Use-pgAdmin"></a></p>

<h2 id="use-pgadmin">Use PgAdmin</h2>

<p>1 - Run the pgAdmin Container (<code>pgadmin</code>) with the <code>docker-compose up</code> command. Example:</p>

<pre><code class="language-bash">docker-compose up -d postgres pgadmin
</code></pre>

<p>2 - Open your browser and visit the localhost on port <strong>5050</strong>:  <code>http://localhost:5050</code></p>

<p>3 - At login page use default credentials:</p>

<p>Username : pgadmin4@pgadmin.org</p>

<p>Password : admin</p>

<p><br>
<a name="Use-Beanstalkd"></a></p>

<h2 id="use-beanstalkd">Use Beanstalkd</h2>

<p>1 - Run the Beanstalkd Container:</p>

<pre><code class="language-bash">docker-compose up -d beanstalkd
</code></pre>

<p>2 - Configure Laravel to connect to that container by editing the <code>config/queue.php</code> config file.</p>

<p>a. first set <code>beanstalkd</code> as default queue driver
b. set the queue host to beanstalkd : <code>QUEUE_HOST=beanstalkd</code></p>

<p><em>beanstalkd is now available on default port <code>11300</code>.</em></p>

<p>3 - Require the dependency package <a href="https://github.com/pda/pheanstalk">pda/pheanstalk</a> using composer.</p>

<p>Optionally you can use the Beanstalkd Console Container to manage your Queues from a web interface.</p>

<p>1 - Run the Beanstalkd Console Container:</p>

<pre><code class="language-bash">docker-compose up -d beanstalkd-console
</code></pre>

<p>2 - Open your browser and visit <code>http://localhost:2080/</code></p>

<p><em>Note: You can customize the port on which beanstalkd console is listening by changing <code>BEANSTALKD_CONSOLE_HOST_PORT</code> in <code>.env</code>. The default value is <em>2080</em>.</em></p>

<p>3 - Add the server</p>

<ul>
<li>Host: beanstalkd</li>
<li>Port: 11300</li>
</ul>

<p>4 - Done.</p>

<p><br>
<a name="Use-Confluence"></a></p>

<h2 id="use-confluence">Use Confluence</h2>

<p>1 - Run the Confluence Container (<code>confluence</code>) with the <code>docker-compose up</code> command. Example:</p>

<pre><code class="language-bash">docker-compose up -d confluence
</code></pre>

<p>2 - Open your browser and visit the localhost on port <strong>8090</strong>:  <code>http://localhost:8090</code></p>

<p><strong>Note:</strong> Confluence is a licensed application - an evaluation licence can be obtained from Atlassian.</p>

<p>You can set custom confluence version in <code>CONFLUENCE_VERSION</code>. <a href="https://hub.docker.com/r/atlassian/confluence-server/">Find more info in section &lsquo;Versioning&rsquo;</a></p>

<h5 id="confluence-usage-with-nginx-and-ssl">Confluence usage with Nginx and SSL.</h5>

<ol>
<li><p>Find an instance configuration file in <code>nginx/sites/confluence.conf.example</code> and replace sample domain with yours.</p></li>

<li><p>Configure ssl keys to your domain.</p></li>
</ol>

<p>Keep in mind that Confluence is still accessible on 8090 anyway.</p>

<p><br>
<a name="Use-ElasticSearch"></a></p>

<h2 id="use-elasticsearch">Use ElasticSearch</h2>

<p>1 - Run the ElasticSearch Container (<code>elasticsearch</code>) with the <code>docker-compose up</code> command:</p>

<pre><code class="language-bash">docker-compose up -d elasticsearch
</code></pre>

<p>2 - Open your browser and visit the localhost on port <strong>9200</strong>:  <code>http://localhost:9200</code></p>

<blockquote>
<p>The default username is <code>elastic</code> and the default password is <code>changeme</code>.</p>
</blockquote>

<h3 id="install-elasticsearch-plugin">Install ElasticSearch Plugin</h3>

<p>1 - Install an ElasticSearch plugin.</p>

<pre><code class="language-bash">docker-compose exec elasticsearch /usr/share/elasticsearch/bin/plugin install {plugin-name}
</code></pre>

<p>2 - Restart elasticsearch container</p>

<pre><code class="language-bash">docker-compose restart elasticsearch
</code></pre>

<p><br>
<a name="Use-Selenium"></a></p>

<h2 id="use-selenium">Use Selenium</h2>

<p>1 - Run the Selenium Container (<code>selenium</code>) with the <code>docker-compose up</code> command. Example:</p>

<pre><code class="language-bash">docker-compose up -d selenium
</code></pre>

<p>2 - Open your browser and visit the localhost on port <strong>4444</strong> at the following URL:  <code>http://localhost:4444/wd/hub</code></p>

<p><br>
<a name="Use-RethinkDB"></a></p>

<h2 id="use-rethinkdb">Use RethinkDB</h2>

<p>The RethinkDB is an open-source Database for Real-time Web (<a href="https://rethinkdb.com/">RethinkDB</a>).
A package (<a href="https://github.com/duxet/laravel-rethinkdb">Laravel RethinkDB</a>) is being developed and was released a version for Laravel 5.2 (experimental).</p>

<p>1 - Run the RethinkDB Container (<code>rethinkdb</code>) with the <code>docker-compose up</code> command.</p>

<pre><code class="language-bash">docker-compose up -d rethinkdb
</code></pre>

<p>2 - Access the RethinkDB Administration Console <a href="http://localhost:8090/#tables">http://localhost:8090/#tables</a> for create a database called <code>database</code>.</p>

<p>3 - Add the RethinkDB configurations to the <code>config/database.php</code> configuration file:</p>

<pre><code class="language-php">'connections' =&gt; [

	'rethinkdb' =&gt; [
		'name'      =&gt; 'rethinkdb',
		'driver'    =&gt; 'rethinkdb',
		'host'      =&gt; env('DB_HOST', 'rethinkdb'),
		'port'      =&gt; env('DB_PORT', 28015),
		'database'  =&gt; env('DB_DATABASE', 'test'),
	]

	// ...

],
</code></pre>

<p>4 - Open your Laravel&rsquo;s <code>.env</code> file and update the following variables:</p>

<ul>
<li>set the <code>DB_CONNECTION</code> to your <code>rethinkdb</code>.</li>
<li>set the <code>DB_HOST</code> to <code>rethinkdb</code>.</li>
<li>set the <code>DB_PORT</code> to <code>28015</code>.</li>
<li>set the <code>DB_DATABASE</code> to <code>database</code>.</li>
</ul>

<h4 id="additional-notes">Additional Notes</h4>

<ul>
<li>You may do backing up of your data using the next reference: <a href="https://www.rethinkdb.com/docs/backup/">backing up your data</a>.</li>
</ul>

<p><br>
<a name="Use-Minio"></a></p>

<h2 id="use-minio">Use Minio</h2>

<p>1 - Configure Minio:
  - On the workspace container, change <code>INSTALL_MC</code> to true to get the client
  - Set <code>MINIO_ACCESS_KEY</code> and <code>MINIO_ACCESS_SECRET</code> if you wish to set proper keys</p>

<p>2 - Run the Minio Container (<code>minio</code>) with the <code>docker-compose up</code> command. Example:</p>

<pre><code class="language-bash">docker-compose up -d minio
</code></pre>

<p>3 - Open your browser and visit the localhost on port <strong>9000</strong> at the following URL:  <code>http://localhost:9000</code></p>

<p>4 - Create a bucket either through the webui or using the mc client:</p>

<pre><code class="language-bash">  mc mb minio/bucket
</code></pre>

<p>5 - When configuring your other clients use the following details:</p>

<pre><code>  S3_HOST=http://minio
  S3_KEY=access
  S3_SECRET=secretkey
  S3_REGION=us-east-1
  S3_BUCKET=bucket
</code></pre>

<p><br>
<a name="Use-Thumbor"></a></p>

<h2 id="use-thumbor">Use Thumbor</h2>

<p>Thumbor is a smart imaging service. It enables on-demand crop, resizing and flipping of images. (<a href="https://github.com/thumbor/thumbor">Thumbor</a>)</p>

<p>1 - Configure Thumbor:
  - Checkout all the options under the thumbor settings</p>

<p>2 - Run the Thumbor Container (<code>minio</code>) with the <code>docker-compose up</code> command. Example:</p>

<pre><code class="language-bash">docker-compose up -d thumbor
</code></pre>

<p>3 - Navigate to an example image on <code>http://localhost:8000/unsafe/300x300/i.imgur.com/bvjzPct.jpg</code></p>

<p>For more documentation on Thumbor visit the <a href="http://thumbor.readthedocs.io/en/latest/index.html">Thumbor documenation</a> page</p>

<p><br>
<a name="Use-AWS"></a></p>

<h2 id="use-aws">Use AWS</h2>

<p>1 - Configure AWS:
  - make sure to add your SSH keys in aws/ssh_keys folder</p>

<p>2 - Run the Aws Container (<code>aws</code>) with the <code>docker-compose up</code> command. Example:</p>

<pre><code class="language-bash">docker-compose up -d aws
</code></pre>

<p>3 - Access the aws container with <code>docker-compose exec aws bash</code></p>

<p>4 - To start using eb cli inside the container, initialize your project first by doing &lsquo;eb init&rsquo;. Read the <a href="http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/eb-cli3-configuration.html">aws eb cli</a> docs for more details.</p>

<p><br>
<a name="Use-Grafana"></a></p>

<h2 id="use-grafana">Use Grafana</h2>

<p>1 - Configure Grafana: Change Port using <code>GRAFANA_PORT</code> if you wish to. Default is port 3000.</p>

<p>2 - Run the Grafana Container (<code>grafana</code>) with the <code>docker-compose up</code>command:</p>

<pre><code class="language-bash">docker-compose up -d grafana
</code></pre>

<p>3 - Open your browser and visit the localhost on port <strong>3000</strong> at the following URL: <code>http://localhost:3000</code></p>

<p>4 - Login using the credentials User = <code>admin</code>, Password = <code>admin</code>. Change the password in the web interface if you want to.</p>

<p><br>
<a name="Use-Graylog"></a></p>

<h2 id="use-graylog">Use Graylog</h2>

<p>1 - Boot the container <code>docker-compose up -d graylog</code></p>

<p>2 - Open your Laravel&rsquo;s <code>.env</code> file and set the <code>GRAYLOG_PASSWORD</code> to some passsword, and <code>GRAYLOG_SHA256_PASSWORD</code> to the sha256 representation of your password (<code>GRAYLOG_SHA256_PASSWORD</code> is what matters, <code>GRAYLOG_PASSWORD</code> is just a reminder of your password).</p>

<blockquote>
<p>Your password must be at least 16 characters long
You can generate sha256 of some password with the following command <code>echo -n somesupersecretpassword | sha256sum</code></p>
</blockquote>

<pre><code class="language-env">GRAYLOG_PASSWORD=somesupersecretpassword
GRAYLOG_SHA256_PASSWORD=b1cb6e31e172577918c9e7806c572b5ed8477d3f57aa737bee4b5b1db3696f09
</code></pre>

<p>3 - Go to <code>http://localhost:9000/</code> (if your port is not changed)</p>

<p>4 - Authenticate from the app.</p>

<blockquote>
<p>Username: admin
Password: somesupersecretpassword (if you haven&rsquo;t changed the password)</p>
</blockquote>

<p>5 - Go to the system-&gt;inputs and launch new input</p>

<p><br>
<a name="Use-Traefik"></a></p>

<h2 id="use-traefik">Use Traefik</h2>

<p>To use Traefik you need to do some changes in <code>traefik/trafik.toml</code> and <code>docker-compose.yml</code>.</p>

<p>1 - Open <code>traefik.toml</code> and change the <code>e-mail</code> property in <code>acme</code> section.</p>

<p>2 - Change your domain in <code>acme.domains</code>. For example: <code>main = &quot;example.org&quot;</code></p>

<p>2.1 - If you have subdomains, you must add them to <code>sans</code> property in <code>acme.domains</code> section.</p>

<pre><code class="language-bash">[[acme.domais]]
  main = &quot;example.org&quot;
  sans = [&quot;monitor.example.org&quot;, &quot;pma.example.org&quot;]
</code></pre>

<p>3 - If you need to add basic authentication (<a href="https://docs.traefik.io/configuration/entrypoints/#basic-authentication">https://docs.traefik.io/configuration/entrypoints/#basic-authentication</a>), you just need to add the following text after <code>[entryPoints.https.tls]</code>:</p>

<pre><code class="language-bash">[entryPoints.https.auth.basic]
  users = [&quot;user:password&quot;]
</code></pre>

<p>4 - You need to change the <code>docker-compose.yml</code> file to match the Traefik needs. If you want to use Traefik, you must not expose the ports of each container to the internet, but specify some labels.</p>

<p>4.1 For example, let&rsquo;s try with NGINX. You must have:</p>

<pre><code class="language-bash">nginx:
  build:
    context: ./nginx
    args:
      - PHP_UPSTREAM_CONTAINER=${NGINX_PHP_UPSTREAM_CONTAINER}
      - PHP_UPSTREAM_PORT=${NGINX_PHP_UPSTREAM_PORT}
      - CHANGE_SOURCE=${CHANGE_SOURCE}
  volumes:
    - ${APP_CODE_PATH_HOST}:${APP_CODE_PATH_CONTAINER}
    - ${NGINX_HOST_LOG_PATH}:/var/log/nginx
    - ${NGINX_SITES_PATH}:/etc/nginx/sites-available
  depends_on:
    - php-fpm
  networks:
    - frontend
    - backend
  labels:
    - traefik.backend=nginx
    - traefik.frontend.rule=Host:example.org
    - traefik.port=80
</code></pre>

<p>instead of</p>

<pre><code class="language-bash">nginx:
  build:
    context: ./nginx
    args:
      - PHP_UPSTREAM_CONTAINER=${NGINX_PHP_UPSTREAM_CONTAINER}
      - PHP_UPSTREAM_PORT=${NGINX_PHP_UPSTREAM_PORT}
      - CHANGE_SOURCE=${CHANGE_SOURCE}
  volumes:
    - ${APP_CODE_PATH_HOST}:${APP_CODE_PATH_CONTAINER}
    - ${NGINX_HOST_LOG_PATH}:/var/log/nginx
    - ${NGINX_SITES_PATH}:/etc/nginx/sites-available
    - ${NGINX_SSL_PATH}:/etc/nginx/ssl
  ports:
    - &quot;${NGINX_HOST_HTTP_PORT}:80&quot;
    - &quot;${NGINX_HOST_HTTPS_PORT}:443&quot;
  depends_on:
    - php-fpm
  networks:
    - frontend
    - backend
</code></pre>

<p><br>
<a name="Use-Mosquitto"></a></p>

<h2 id="use-mosquitto-mqtt-broker">Use Mosquitto (MQTT Broker)</h2>

<p>1 - Configure Mosquitto: Change Port using <code>MOSQUITTO_PORT</code> if you wish to. Default is port 9001.</p>

<p>2 - Run the Mosquitto Container (<code>mosquitto</code>) with the <code>docker-compose up</code>command:</p>

<pre><code class="language-bash">docker-compose up -d mosquitto
</code></pre>

<p>3 - Open your command line and use a MQTT Client (Eg. <a href="https://github.com/mqttjs/MQTT.js">https://github.com/mqttjs/MQTT.js</a>) to subscribe a topic and publish a message.</p>

<p>4 - Subscribe: <code>mqtt sub -t 'test' -h localhost -p 9001 -C 'ws' -v</code></p>

<p>5 - Publish: <code>mqtt pub -t 'test' -h localhost -p 9001 -C 'ws' -m 'Hello!'</code></p>

<p><br>
<a name="CodeIgniter"></a></p>

<p><br>
<a name="Install-CodeIgniter"></a></p>

<h2 id="install-codeigniter">Install CodeIgniter</h2>

<p>To install CodeIgniter 3 on Laradock all you have to do is the following simple steps:</p>

<p>1 - Open the <code>docker-compose.yml</code> file.</p>

<p>2 - Change <code>CODEIGNITER=false</code> to <code>CODEIGNITER=true</code>.</p>

<p>3 - Re-build your PHP-FPM Container <code>docker-compose build php-fpm</code>.</p>

<p><br>
<a name="Install-Powerline"></a></p>

<h2 id="install-powerline">Install Powerline</h2>

<p>1 - Open the <code>.env</code> file and set <code>WORKSPACE_INSTALL_POWERLINE</code> and <code>WORKSPACE_INSTALL_PYTHON</code> to <code>true</code>.</p>

<p>2 - Run <code>docker-compose build workspace</code>, after the step above.</p>

<p>Powerline is required python</p>

<p><br>
<a name="Install-Symfony"></a></p>

<h2 id="install-symfony">Install Symfony</h2>

<p>1 - Open the <code>.env</code> file and set <code>WORKSPACE_INSTALL_SYMFONY</code> to <code>true</code>.</p>

<p>2 - Run <code>docker-compose build workspace</code>, after the step above.</p>

<p>3 - The NGINX sites include a default config file for your Symfony project <code>symfony.conf.example</code>, so edit it and make sure the <code>root</code> is pointing to your project <code>web</code> directory.</p>

<p>4 - Run <code>docker-compose restart</code> if the container was already running, before the step above.</p>

<p>5 - Visit <code>symfony.test</code></p>

<p><br>
<a name="Misc"></a></p>

<h2 id="miscellaneous">Miscellaneous</h2>

<p><br>
<a name="Change-the-timezone"></a></p>

<h2 id="change-the-timezone">Change the timezone</h2>

<p>To change the timezone for the <code>workspace</code> container, modify the <code>TZ</code> build argument in the Docker Compose file to one in the <a href="https://en.wikipedia.org/wiki/List_of_tz_database_time_zones">TZ database</a>.</p>

<p>For example, if I want the timezone to be <code>New York</code>:</p>

<pre><code class="language-yml">    workspace:
        build:
            context: ./workspace
            args:
                - TZ=America/New_York
    ...
</code></pre>

<p>We also recommend <a href="http://www.camroncade.com/managing-timezones-with-laravel/">setting the timezone in Laravel</a>.</p>

<p><br>
<a name="Add locales to PHP-FPM"></a></p>

<h2 id="add-locales-to-php-fpm">Add locales to PHP-FPM</h2>

<p>To add locales to the container:</p>

<p>1 - Open the <code>.env</code> file and set <code>PHP_FPM_INSTALL_ADDITIONAL_LOCALES</code> to <code>true</code>.</p>

<p>2 - Add locale codes to <code>PHP_FPM_ADDITIONAL_LOCALES</code>.</p>

<p>3 - Re-build your PHP-FPM Container <code>docker-compose build php-fpm</code>.</p>

<p>4 - Check enabled locales with <code>docker-compose exec php-fpm locale -a</code></p>

<p><br>
<a name="CronJobs"></a></p>

<h2 id="adding-cron-jobs">Adding cron jobs</h2>

<p>You can add your cron jobs to <code>workspace/crontab/root</code> after the <code>php artisan</code> line.</p>

<pre><code>* * * * * laradock /usr/bin/php /var/www/artisan schedule:run &gt;&gt; /dev/null 2&gt;&amp;1

# Custom cron
* * * * * root echo &quot;Every Minute&quot; &gt; /var/log/cron.log 2&gt;&amp;1
</code></pre>

<p>Make sure you <a href="#Change-the-timezone">change the timezone</a> if you don&rsquo;t want to use the default (UTC).</p>

<p>If you are on Windows, verify that the line endings for this file are LF only, otherwise the cron jobs will silently fail.</p>

<p><br>
<a name="Workspace-ssh"></a></p>

<h2 id="access-workspace-via-ssh">Access workspace via ssh</h2>

<p>You can access the <code>workspace</code> container through <code>localhost:2222</code> by setting the <code>INSTALL_WORKSPACE_SSH</code> build argument to <code>true</code>.</p>

<p>To change the default forwarded port for ssh:</p>

<pre><code class="language-yml">    workspace:
		ports:
			- &quot;2222:22&quot; # Edit this line
    ...
</code></pre>

<p>Then login using:</p>

<pre><code class="language-bash">ssh -o PasswordAuthentication=no    \
    -o StrictHostKeyChecking=no     \
    -o UserKnownHostsFile=/dev/null \
    -p 2222                         \
    -i workspace/insecure_id_rsa    \
    laradock@localhost
</code></pre>

<p>To login as root, replace laradock@localhost with root@localhost.</p>

<p><br>
<a name="Change-the-MySQL-Version"></a></p>

<h2 id="change-the-mysql-version">Change the (MySQL) Version</h2>

<p>By default <strong>MySQL 8.0</strong> is running.</p>

<p>MySQL 8.0 is a development release.  You may prefer to use the latest stable version, or an even older release.  If you wish, you can change the MySQL image that is used.</p>

<p>Open up your .env file and set the <code>MYSQL_VERSION</code> variable to the version you would like to install.</p>

<pre><code>MYSQL_VERSION=5.7
</code></pre>

<p>Available versions are: 5.5, 5.6, 5.7, 8.0, or latest.  See <a href="https://store.docker.com/images/mysql">https://store.docker.com/images/mysql</a> for more information.</p>

<p><br>
<a name="MySQL-root-access"></a></p>

<h2 id="mysql-root-access">MySQL root access</h2>

<p>The default username and password for the root MySQL user are <code>root</code> and <code>root</code>.</p>

<p>1 - Enter the MySQL container: <code>docker-compose exec mysql bash</code>.</p>

<p>2 - Enter mysql: <code>mysql -uroot -proot</code> for non root access use <code>mysql -udefault -psecret</code>.</p>

<p>3 - See all users: <code>SELECT User FROM mysql.user;</code></p>

<p>4 - Run any commands <code>show databases</code>, <code>show tables</code>, <code>select * from.....</code>.</p>

<p><br>
<a name="Create-Multiple-Databases"></a></p>

<h2 id="create-multiple-databases-mysql">Create Multiple Databases (MySQL)</h2>

<p>Create <code>createdb.sql</code> from <code>mysql/docker-entrypoint-initdb.d/createdb.sql.example</code> in <code>mysql/docker-entrypoint-initdb.d/*</code> and add your SQL syntax as follow:</p>

<pre><code class="language-sql">CREATE DATABASE IF NOT EXISTS `your_db_1` COLLATE 'utf8_general_ci' ;
GRANT ALL ON `your_db_1`.* TO 'mysql_user'@'%' ;
</code></pre>

<p><br>
<a name="Change-MySQL-port"></a></p>

<h2 id="change-mysql-port">Change MySQL port</h2>

<p>Modify the <code>mysql/my.cnf</code> file to set your port number, <code>1234</code> is used as an example.</p>

<pre><code>[mysqld]
port=1234
</code></pre>

<p>If you need <a href="#MySQL-access-from-host">MySQL access from your host</a>, do not forget to change the internal port number (<code>&quot;3306:3306&quot;</code> -&gt; <code>&quot;3306:1234&quot;</code>) in the docker-compose configuration file.</p>

<p><br>
<a name="Use-custom-Domain"></a></p>

<h2 id="use-custom-domain-instead-of-the-docker-ip">Use custom Domain (instead of the Docker IP)</h2>

<p>Assuming your custom domain is <code>laravel.test</code></p>

<p>1 - Open your <code>/etc/hosts</code> file and map your localhost address <code>127.0.0.1</code> to the <code>laravel.test</code> domain, by adding the following:</p>

<pre><code class="language-bash">127.0.0.1    laravel.test
</code></pre>

<p>2 - Open your browser and visit <code>{http://laravel.test}</code></p>

<p>Optionally you can define the server name in the NGINX configuration file, like this:</p>

<pre><code class="language-conf">server_name laravel.test;
</code></pre>

<p><br>
<a name="Enable-Global-Composer-Build-Install"></a></p>

<h2 id="enable-global-composer-build-install">Enable Global Composer Build Install</h2>

<p>Enabling Global Composer Install during the build for the container allows you to get your composer requirements installed and available in the container after the build is done.</p>

<p>1 - Open the <code>.env</code> file</p>

<p>2 - Search for the <code>WORKSPACE_COMPOSER_GLOBAL_INSTALL</code> argument under the Workspace Container and set it to <code>true</code></p>

<p>3 - Now add your dependencies to <code>workspace/composer.json</code></p>

<p>4 - Re-build the Workspace Container <code>docker-compose build workspace</code></p>

<p><br>
<a name="Magento-2-authentication-credentials"></a></p>

<h2 id="add-authentication-credential-for-magento-2">Add authentication credential for Magento 2</h2>

<p>1 - Open the <code>.env</code> file</p>

<p>2 - Search for the <code>WORKSPACE_COMPOSER_AUTH</code> argument under the Workspace Container and set it to <code>true</code></p>

<p>3 - Now add your credentials to <code>workspace/auth.json</code></p>

<p>4 - Re-build the Workspace Container <code>docker-compose build workspace</code></p>

<p><br>
<a name="Install-Prestissimo"></a></p>

<h2 id="install-prestissimo">Install Prestissimo</h2>

<p><a href="https://github.com/hirak/prestissimo">Prestissimo</a> is a plugin for composer which enables parallel install functionality.</p>

<p>1 - Enable Running Global Composer Install during the Build:</p>

<p>Click on this <a href="#Enable-Global-Composer-Build-Install">Enable Global Composer Build Install</a> and do steps 1 and 2 only then continue here.</p>

<p>2 - Add prestissimo as requirement in Composer:</p>

<p>a - Now open the <code>workspace/composer.json</code> file</p>

<p>b - Add <code>&quot;hirak/prestissimo&quot;: &quot;^0.3&quot;</code> as requirement</p>

<p>c - Re-build the Workspace Container <code>docker-compose build workspace</code></p>

<p><br>
<a name="Install-Node"></a></p>

<h2 id="install-node-nvm">Install Node + NVM</h2>

<p>To install NVM and NodeJS in the Workspace container</p>

<p>1 - Open the <code>.env</code> file</p>

<p>2 - Search for the <code>WORKSPACE_INSTALL_NODE</code> argument under the Workspace Container and set it to <code>true</code></p>

<p>3 - Re-build the container <code>docker-compose build workspace</code></p>

<p><br>
<a name="Install-Yarn"></a></p>

<h2 id="install-node-yarn">Install Node + YARN</h2>

<p>Yarn is a new package manager for JavaScript. It is so faster than npm, which you can find <a href="http://yarnpkg.com/en/compare">here</a>.To install NodeJS and <a href="https://yarnpkg.com/">Yarn</a> in the Workspace container:</p>

<p>1 - Open the <code>.env</code> file</p>

<p>2 - Search for the <code>WORKSPACE_INSTALL_NODE</code> and <code>WORKSPACE_INSTALL_YARN</code> argument under the Workspace Container and set it to <code>true</code></p>

<p>3 - Re-build the container <code>docker-compose build workspace</code></p>

<p><br>
<a name="Install-NPM-GULP"></a></p>

<h2 id="install-npm-gulp-toolkit">Install NPM GULP toolkit</h2>

<p>To install NPM GULP toolkit in the Workspace container</p>

<p>1 - Open the <code>.env</code> file</p>

<p>2 - Search for the <code>WORKSPACE_INSTALL_NPM_GULP</code> argument under the Workspace Container and set it to <code>true</code></p>

<p>3 - Re-build the container <code>docker-compose build workspace</code></p>

<p><br>
<a name="Install-NPM-BOWER"></a></p>

<h2 id="install-npm-bower-package-manager">Install NPM BOWER package manager</h2>

<p>To install NPM BOWER package manager in the Workspace container</p>

<p>1 - Open the <code>.env</code> file</p>

<p>2 - Search for the <code>WORKSPACE_INSTALL_NPM_BOWER</code> argument under the Workspace Container and set it to <code>true</code></p>

<p>3 - Re-build the container <code>docker-compose build workspace</code></p>

<p><br>
<a name="Install-NPM-VUE-CLI"></a></p>

<h2 id="install-npm-vue-cli">Install NPM VUE CLI</h2>

<p>To install NPM VUE CLI in the Workspace container</p>

<p>1 - Open the <code>.env</code> file</p>

<p>2 - Search for the <code>WORKSPACE_INSTALL_NPM_VUE_CLI</code> argument under the Workspace Container and set it to <code>true</code></p>

<p>3 - Re-build the container <code>docker-compose build workspace</code></p>

<p><br>
<a name="Install-NPM-ANGULAR-CLI"></a></p>

<h2 id="install-npm-angular-cli">Install NPM ANGULAR CLI</h2>

<p>To install NPM ANGULAR CLI in the Workspace container</p>

<p>1 - Open the <code>.env</code> file</p>

<p>2 - Search for the <code>WORKSPACE_INSTALL_NPM_ANGULAR_CLI</code> argument under the Workspace Container and set it to <code>true</code></p>

<p>3 - Re-build the container <code>docker-compose build workspace</code></p>

<p><br>
<a name="Install-Linuxbrew"></a></p>

<h2 id="install-linuxbrew">Install Linuxbrew</h2>

<p>Linuxbrew is a package manager for Linux. It is the Linux version of MacOS Homebrew and can be found <a href="http://linuxbrew.sh">here</a>. To install Linuxbrew in the Workspace container:</p>

<p>1 - Open the <code>.env</code> file</p>

<p>2 - Search for the <code>WORKSPACE_INSTALL_LINUXBREW</code> argument under the Workspace Container and set it to <code>true</code></p>

<p>3 - Re-build the container <code>docker-compose build workspace</code></p>

<p><br>
<a name="Install-FFMPEG"></a></p>

<h2 id="install-ffmpeg">Install FFMPEG</h2>

<p>To install FFMPEG in the Workspace container</p>

<p>1 - Open the <code>.env</code> file</p>

<p>2 - Search for the <code>WORKSPACE_INSTALL_FFMPEG</code> argument under the Workspace Container and set it to <code>true</code></p>

<p>3 - Re-build the container <code>docker-compose build workspace</code></p>

<p>4 - If you use the <code>php-worker</code> container too, please follow the same steps above especially if you have conversions that have been queued.</p>

<p><strong>PS</strong> Don&rsquo;t forget to install the binary in the <code>php-fpm</code> container too by applying the same steps above to its container, otherwise the you&rsquo;ll get an error when running the <code>php-ffmpeg</code> binary.</p>

<p><br>
<a name="Install-GNU-Parallel"></a></p>

<h2 id="install-gnu-parallel">Install GNU Parallel</h2>

<p>GNU Parallel is a command line tool to run multiple processes in parallel.</p>

<p>(see <a href="https://www.gnu.org/software/parallel/parallel_tutorial.html">https://www.gnu.org/software/parallel/parallel_tutorial.html</a>)</p>

<p>To install GNU Parallel in the Workspace container</p>

<p>1 - Open the <code>.env</code> file</p>

<p>2 - Search for the <code>WORKSPACE_INSTALL_GNU_PARALLEL</code> argument under the Workspace Container and set it to <code>true</code></p>

<p>3 - Re-build the container <code>docker-compose build workspace</code></p>

<p><br>
<a name="Install-Supervisor"></a></p>

<h2 id="install-supervisor">Install Supervisor</h2>

<p>Supervisor is a client/server system that allows its users to monitor and control a number of processes on UNIX-like operating systems.</p>

<p>(see <a href="http://supervisord.org/index.html">http://supervisord.org/index.html</a>)</p>

<p>To install Supervisor in the Workspace container</p>

<p>1 - Open the <code>.env</code> file</p>

<p>2 - Set <code>WORKSPACE_INSTALL_SUPERVISOR</code> and <code>WORKSPACE_INSTALL_PYTHON</code> to <code>true</code>.</p>

<p>3 - Re-build the container <code>docker-compose build workspace</code> Or <code>docker-composer up --build -d workspace</code></p>

<p><br>
<a name="Common-Aliases"></a>
<br></p>

<h2 id="common-terminal-aliases">Common Terminal Aliases</h2>

<p>When you start your docker container, Laradock will copy the <code>aliases.sh</code> file located in the <code>laradock/workspace</code> directory and add sourcing to the container <code>~/.bashrc</code> file.</p>

<p>You are free to modify the <code>aliases.sh</code> as you see fit, adding your own aliases (or function macros) to suit your requirements.</p>

<p><br>
<a name="Install-Aerospike-Extension"></a></p>

<h2 id="install-aerospike-extension">Install Aerospike extension</h2>

<p>1 - First install <code>aerospike</code> in the Workspace and the PHP-FPM Containers:
<br>
a) open the <code>.env</code> file
<br>
b) search for the <code>WORKSPACE_INSTALL_AEROSPIKE</code> argument under the Workspace Container
<br>
c) set it to <code>true</code>
<br>
d) search for the <code>PHP_FPM_INSTALL_AEROSPIKE</code> argument under the PHP-FPM Container
<br>
e) set it to <code>true</code>
<br></p>

<p>2 - Re-build the containers <code>docker-compose build workspace php-fpm</code></p>

<p><br>
<a name="Install-Laravel-Envoy"></a></p>

<h2 id="install-laravel-envoy-envoy-task-runner">Install Laravel Envoy (Envoy Task Runner)</h2>

<p>1 - Open the <code>.env</code> file
<br>
2 - Search for the <code>WORKSPACE_INSTALL_LARAVEL_ENVOY</code> argument under the Workspace Container
<br>
3 - Set it to <code>true</code>
<br></p>

<p>4 - Re-build the containers <code>docker-compose build workspace</code></p>

<p><a href="https://laravel.com/docs/5.3/envoy"><strong>Laravel Envoy Documentation Here</strong></a></p>

<p><a name="Install php calendar extension"></a></p>

<h2 id="install-php-calendar-extension">Install php calendar extension</h2>

<p>1 - Open the <code>.env</code> file
<br>
2 - Search for the <code>PHP_FPM_INSTALL_CALENDAR</code> argument under the PHP-FPM container
<br>
3 - Set it to <code>true</code>
<br>
4 - Re-build the containers <code>docker-compose build php-fpm</code>
<br></p>

<p><br>
<a name="Install-Faketime"></a></p>

<h2 id="install-libfaketime-in-the-php-fpm-container">Install libfaketime in the php-fpm container</h2>

<p>Libfaketime allows you to control the date and time that is returned from the operating system.
It can be used by specifying a special string in the <code>PHP_FPM_FAKETIME</code> variable in the <code>.env</code> file.
For example:
<code>PHP_FPM_FAKETIME=-1d</code>
will set the clock back 1 day. See (<a href="https://github.com/wolfcw/libfaketime">https://github.com/wolfcw/libfaketime</a>) for more information.</p>

<p>1 - Open the <code>.env</code> file
<br>
2 - Search for the <code>PHP_FPM_INSTALL_FAKETIME</code> argument under the PHP-FPM container
<br>
3 - Set it to <code>true</code>
<br>
4 - Search for the <code>PHP_FPM_FAKETIME</code> argument under the PHP-FPM container
<br>
5 - Set it to the desired string
<br>
6 - Re-build the containers <code>docker-compose build php-fpm</code><br></p>

<p><br>
<a name="Install-YAML"></a></p>

<h2 id="install-yaml-php-extension-in-the-php-fpm-container">Install YAML PHP extension in the php-fpm container</h2>

<p>YAML PHP extension allows you to easily parse and create YAML structured data. I like YAML because it&rsquo;s well readable for humans. See <a href="http://php.net/manual/en/ref.yaml.php">http://php.net/manual/en/ref.yaml.php</a> and <a href="http://yaml.org/">http://yaml.org/</a> for more info.</p>

<p>1 - Open the <code>.env</code> file
<br>
2 - Search for the <code>PHP_FPM_INSTALL_YAML</code> argument under the PHP-FPM container
<br>
3 - Set it to <code>true</code>
<br>
4 - Re-build the container <code>docker-compose build php-fpm</code><br></p>

<p><br>
<a name="phpstorm-debugging"></a></p>

<h2 id="phpstorm-debugging-guide">PHPStorm Debugging Guide</h2>

<p>Remote debug Laravel web and phpunit tests.</p>

<p><a href="https://laradock.io/guides/#PHPStorm-Debugging"><strong>Debugging Guide Here</strong></a></p>

<p><br>
<a name="keep-tracking-Laradock"></a></p>

<h2 id="keep-track-of-your-laradock-changes">Keep track of your Laradock changes</h2>

<ol>
<li>Fork the Laradock repository.</li>
<li>Use that fork as a submodule.</li>
<li>Commit all your changes to your fork.</li>
<li>Pull new stuff from the main repository from time to time.</li>
</ol>

<p><br>
<a name="Speed-MacOS"></a></p>

<h2 id="improve-speed-on-macos">Improve speed on MacOS</h2>

<p>Docker on the Mac <a href="https://github.com/docker/for-mac/issues/77">is slow</a>, at the time of writing. Especially for larger projects, this can be a problem. The problem is <a href="https://forums.docker.com/t/file-access-in-mounted-volumes-extremely-slow-cpu-bound/8076">older than March 2016</a> - as it&rsquo;s a such a long-running issue, we&rsquo;re including it in the docs here.</p>

<p>So since sharing code into Docker containers with osxfs have very poor performance compared to Linux. Likely there are some workarounds:</p>

<h3 id="workaround-a-using-dinghy">Workaround A: using dinghy</h3>

<p><a href="https://github.com/codekitchen/dinghy">Dinghy</a> creates its own VM using docker-machine, it will not modify your existing docker-machine VMs.</p>

<p>Quick Setup giude, (we recommend you check their docs)</p>

<p>1) <code>brew tap codekitchen/dinghy</code></p>

<p>2) <code>brew install dinghy</code></p>

<p>3) <code>dinghy create --provider virtualbox</code> (must have virtualbox installed, but they support other providers if you prefer)</p>

<p>4) after the above command is done it will display some env variables, copy them to the bash profile or zsh or.. (this will instruct docker to use the server running inside the VM)</p>

<p>5) <code>docker-compose up ...</code></p>

<p><br>
<a name="Docker-Sync"></a></p>

<h3 id="workaround-b-using-d4m-nfs">Workaround B: using d4m-nfs</h3>

<p>You can use the d4m-nfs solution in 2 ways, the first is by using the built-in Laradock integration, and the second is using the tool separately. Below is show case of both methods:</p>

<h3 id="b-1-using-the-built-in-d4m-nfs-integration">B.1: using the built in d4m-nfs integration</h3>

<p>In simple terms, docker-sync creates a docker container with a copy of all the application files that can be accessed very quickly from the other containers.
On the other hand, docker-sync runs a process on the host machine that continuously tracks and updates files changes from the host to this intermediate container.</p>

<p>Out of the box, it comes pre-configured for OS X, but using it on Windows is very easy to set-up by modifying the <code>DOCKER_SYNC_STRATEGY</code> on the <code>.env</code></p>

<h4 id="usage">Usage</h4>

<p>Laradock comes with <code>sync.sh</code>, an optional bash script, that automates installing, running and stopping docker-sync.  Note that to run the bash script you may need to change the permissions <code>chmod 755 sync.sh</code></p>

<p>1) Configure your Laradock environment as you would normally do and test your application to make sure that your sites are running correctly.</p>

<p>2) Make sure to set <code>DOCKER_SYNC_STRATEGY</code> on the <code>.env</code>. Read the <a href="https://github.com/EugenMayer/docker-sync/wiki/8.-Strategies">syncing strategies</a> for details.</p>

<pre><code># osx: 'native_osx' (default)
# windows: 'unison'
# linux: docker-sync not required

DOCKER_SYNC_STRATEGY=native_osx
</code></pre>

<p>3) set <code>APP_CODE_CONTAINER_FLAG</code> to <code>APP_CODE_CONTAINER_FLAG=:nocopy</code> in the .env file</p>

<p>4) Install the docker-sync gem on the host-machine:</p>

<pre><code class="language-bash">./sync.sh install
</code></pre>

<p>5) Start docker-sync and the Laradock environment.
Specify the services you want to run, as you would normally do with <code>docker-compose up</code></p>

<pre><code class="language-bash">./sync.sh up nginx mysql
</code></pre>

<p>Please note that the first time docker-sync runs, it will copy all the files to the intermediate container and that may take a very long time (15min+).
6) To stop the environment and docker-sync do:</p>

<pre><code class="language-bash">./sync.sh down
</code></pre>

<h4 id="setting-up-aliases-optional">Setting up Aliases (optional)</h4>

<p>You may create bash profile aliases to avoid having to remember and type these commands for everyday development.
Add the following lines to your <code>~/.bash_profile</code>:</p>

<pre><code class="language-bash">alias devup=&quot;cd /PATH_TO_LARADOCK/laradock; ./sync.sh up nginx mysql&quot; #add your services
alias devbash=&quot;cd /PATH_TO_LARADOCK/laradock; ./sync.sh bash&quot;
alias devdown=&quot;cd /PATH_TO_LARADOCK/laradock; ./sync.sh down&quot;
</code></pre>

<p>Now from any location on your machine, you can simply run <code>devup</code>, <code>devbash</code> and <code>devdown</code>.</p>

<h4 id="additional-commands">Additional Commands</h4>

<p>Opening bash on the workspace container (to run artisan for example):</p>

<pre><code class="language-bash"> ./sync.sh bash
</code></pre>

<p>Manually triggering the synchronization of the files:</p>

<pre><code class="language-bash">./sync.sh sync
</code></pre>

<p>Removing and cleaning up the files and the docker-sync container. Use only if you want to rebuild or remove docker-sync completely. The files on the host will be kept untouched.</p>

<pre><code class="language-bash">./sync.sh clean
</code></pre>

<h4 id="additional-notes-1">Additional Notes</h4>

<ul>
<li>You may run laradock with or without docker-sync at any time using with the same <code>.env</code> and <code>docker-compose.yml</code>, because the configuration is overridden automatically when docker-sync is used.</li>
<li>You may inspect the <code>sync.sh</code> script to learn each of the commands and even add custom ones.</li>
<li>If a container cannot access the files on docker-sync, you may need to set a user on the Dockerfile of that container with an id of 1000 (this is the UID that nginx and php-fpm have configured on laradock). Alternatively, you may change the permissions to 777, but this is <strong>not</strong> recommended.</li>
</ul>

<p>Visit the <a href="https://github.com/EugenMayer/docker-sync/wiki">docker-sync documentation</a> for more details.</p>

<p><br></p>

<h3 id="b-2-using-the-d4m-nfs-tool">B.2: using the d4m-nfs tool</h3>

<p><a href="https://github.com/IFSight/d4m-nfs">D4m-nfs</a> automatically mount NFS volume instead of osxfs one.</p>

<p>1) Update the Docker [File Sharing] preferences:</p>

<p>Click on the Docker Icon &gt; Preferences &gt; (remove everything form the list except <code>/tmp</code>).</p>

<p>2) Restart Docker.</p>

<p>3) Clone the <a href="https://github.com/IFSight/d4m-nfs">d4m-nfs</a> repository to your <code>home</code> directory.</p>

<pre><code class="language-bash">git clone https://github.com/IFSight/d4m-nfs ~/d4m-nfs
</code></pre>

<p>4) Create (or edit) the file <code>~/d4m-nfs/etc/d4m-nfs-mounts.txt</code>, and write the following configuration in it:</p>

<pre><code class="language-txt">/Users:/Users
</code></pre>

<p>5) Create (or edit) the file <code>/etc/exports</code>, make sure it exists and is empty. (There may be collisions if you come from Vagrant or if you already executed the <code>d4m-nfs.sh</code> script before).</p>

<p>6) Run the <code>d4m-nfs.sh</code> script (might need Sudo):</p>

<pre><code class="language-bash">~/d4m-nfs/d4m-nfs.sh
</code></pre>

<p>That&rsquo;s it! Run your containers.. Example:</p>

<pre><code class="language-bash">docker-compose up ...
</code></pre>

<p><em>Note: If you faced any errors, try restarting Docker, and make sure you have no spaces in the <code>d4m-nfs-mounts.txt</code> file, and your <code>/etc/exports</code> file is clear.</em></p>

<p><br>
<a name="upgrade-laradock"></a></p>

<h2 id="upgrade-laradock">Upgrade Laradock</h2>

<p>Moving from Docker Toolbox (VirtualBox) to Docker Native (for Mac/Windows). Requires upgrading Laradock from v3.* to v4.*:</p>

<ol>
<li>Stop the docker VM <code>docker-machine stop {default}</code></li>
<li>Install Docker for <a href="https://docs.docker.com/docker-for-mac/">Mac</a> or <a href="https://docs.docker.com/docker-for-windows/">Windows</a>.</li>
<li>Upgrade Laradock to <code>v4.*.*</code> (<code>git pull origin master</code>)</li>
<li>Use Laradock as you used to do: <code>docker-compose up -d nginx mysql</code>.</li>
</ol>

<p><strong>Note:</strong> If you face any problem with the last step above: rebuild all your containers
<code>docker-compose build --no-cache</code>
&ldquo;Warning Containers Data might be lost!&rdquo;</p>

			
			<br><br><br><br><br><br>
			<hr>
			<br>
			<h1>4. Guides </h1>

			

<p><a name="Digital-Ocean"></a></p>

<h2 id="production-setup-on-digital-ocean">Production Setup on Digital Ocean</h2>

<h3 id="install-docker">Install Docker</h3>

<ul>
<li>Visit <a href="https://cloud.digitalocean.com/login">DigitalOcean</a> and login.</li>
<li>Click the <code>Create Droplet</code> button.</li>
<li>Open the <code>One-click apps</code> tab.</li>
<li>Select Docker with your preferred version.</li>
<li>Continue creating the droplet as you normally would.</li>
<li>If needed, check your e-mail for the droplet root password.</li>
</ul>

<h3 id="ssh-to-your-server">SSH to your Server</h3>

<p>Find the IP address of the droplet in the DigitalOcean interface. Use it to connect to the server.</p>

<pre><code>ssh root@ipaddress
</code></pre>

<p>You may be prompted for a password. Type the one you found within your e-mailbox. It&rsquo;ll then ask you to change the password.</p>

<p>You can now check if Docker is available:</p>

<pre><code>$root@server:~# docker
</code></pre>

<h3 id="set-up-your-laravel-project">Set Up Your Laravel Project</h3>

<pre><code>$root@server:~# apt-get install git
$root@server:~# git clone https://github.com/laravel/laravel
$root@server:~# cd laravel
$root@server:~/laravel/ git submodule add https://github.com/Laradock/laradock.git
$root@server:~/laravel/ cd laradock
</code></pre>

<h3 id="enter-the-laradock-folder-and-rename-env-example-to-env">Enter the laradock folder and rename env-example to .env.</h3>

<pre><code>$root@server:~/laravel/laradock# cp env-example .env
</code></pre>

<h3 id="create-your-laradock-containers">Create Your Laradock Containers</h3>

<pre><code>$root@server:~/laravel/laradock# docker-compose up -d nginx mysql
</code></pre>

<p>Note that more containers are available, find them in the <a href="http://laradock.io/introduction/#supported-software-containers">docs</a> or the <code>docker-compose.yml</code> file.</p>

<h3 id="go-to-your-workspace">Go to Your Workspace</h3>

<pre><code>docker-compose exec workspace bash
</code></pre>

<h3 id="execute-commands">Execute commands</h3>

<p>If you want to only execute some command and don&rsquo;t want to enter bash, you can execute <code>docker-compose run workspace &lt;command&gt;</code>.</p>

<pre><code>docker-compose run workspace php artisan migrate
</code></pre>

<h3 id="prepare-for-visual-studio-code-remote-development">Prepare for Visual Studio Code remote development</h3>

<p>If you want to use Visual Studio Code for <a href="https://code.visualstudio.com/docs/remote/containers">remote development</a> directly on your <code>workspace</code> container, copy file <code>devcontainer.example.json</code> to <code>devcontainer.json</code> and customize it (see <a href="https://code.visualstudio.com/docs/remote/containers#_devcontainerjson-reference">devcontainer.json reference</a> for more options):</p>

<pre><code>cd .devcontainer
cp devcontainer.example.json devcontainer.json
</code></pre>

<p>Then open your <code>laradock</code> folder in Visual Studio Code and click on popup button <strong>Reopen in Container</strong>.</p>

<h3 id="install-and-configure-laravel">Install and configure Laravel</h3>

<p>Let&rsquo;s install Laravel&rsquo;s dependencies, add the <code>.env</code> file, generate the key and give proper permissions to the cache folder.</p>

<pre><code>$ root@workspace:/var/www# composer install
$ root@workspace:/var/www# cp .env.example .env
$ root@workspace:/var/www# php artisan key:generate
$ root@workspace:/var/www# exit
$root@server:~/laravel/laradock# cd ..
$root@server:~/laravel# sudo chmod -R 777 storage bootstrap/cache
</code></pre>

<p>You can then view your Laravel site by visiting the IP address of your server in your browser. For example:</p>

<pre><code>http://192.168.1.1
</code></pre>

<p>It should show you the Laravel default welcome page.</p>

<p>However, we want it to show up using your custom domain name, as well.</p>

<h3 id="using-your-own-domain-name">Using Your Own Domain Name</h3>

<p>Login to your DNS provider, such as Godaddy, Namecheap.</p>

<p>Point the Custom Domain Name Server to:</p>

<pre><code>ns1.digitalocean.com
ns2.digitalocean.com
ns3.digitalocean.com
</code></pre>

<p>Within DigitalOcean, you&rsquo;ll need to change some settings, too.</p>

<p>Visit: <a href="https://cloud.digitalocean.com/networking/domains">https://cloud.digitalocean.com/networking/domains</a></p>

<p>Add your domain name and choose the server IP you&rsquo;d provision earlier.</p>

<h3 id="serving-site-with-nginx-http-only">Serving Site With NGINX (HTTP ONLY)</h3>

<p>Go back to command line.</p>

<pre><code>$root@server:~/laravel/laradock# cd nginx
$root@server:~/laravel/laradock/nginx# vim laravel.conf
</code></pre>

<p>Remove <code>default_server</code></p>

<pre><code>    listen 80 default_server;
    listen [::]:80 default_server ipv6only=on;
</code></pre>

<p>And add <code>server_name</code> (your custom domain)</p>

<pre><code>    listen 80;
    listen [::]:80 ipv6only=on;
    server_name yourdomain.com;
</code></pre>

<h3 id="rebuild-your-nginx">Rebuild Your Nginx</h3>

<pre><code>$root@server:~/laravel/laradock# docker-compose down
$root@server:~/laravel/laradock# docker-compose build nginx
</code></pre>

<h3 id="re-run-your-containers-mysql-and-nginx">Re Run Your Containers MYSQL and NGINX</h3>

<pre><code>$root@server:~/laravel/laradock/nginx# docker-compose up -d nginx mysql
</code></pre>

<p><strong>View Your Site with HTTP ONLY (<a href="http://yourdomain.com">http://yourdomain.com</a>)</strong></p>

<h3 id="run-site-on-ssl-with-let-s-encrypt-certificate">Run Site on SSL with Let&rsquo;s Encrypt Certificate</h3>

<p><strong>Note: You need to Use Caddy here Instead of Nginx</strong></p>

<p>To go Caddy Folders and Edit CaddyFile</p>

<pre><code>$root@server:~/laravel/laradock# cd caddy
$root@server:~/laravel/laradock/caddy# vim Caddyfile
</code></pre>

<p>Remove 0.0.0.0:80</p>

<pre><code>0.0.0.0:80
root /var/www/public
</code></pre>

<p>and replace with your <a href="https://yourdomain.com">https://yourdomain.com</a></p>

<pre><code>https://yourdomain.com
root /var/www/public
</code></pre>

<p>uncomment tls</p>

<pre><code>#tls self-signed
</code></pre>

<p>and replace self-signed with your email address</p>

<pre><code>tls serverbreaker@gmai.com
</code></pre>

<p>This is needed Prior to Creating Let&rsquo;s Encypt</p>

<h3 id="run-your-caddy-container-without-the-d-flag-and-generate-ssl-with-let-s-encrypt">Run Your Caddy Container without the -d flag and Generate SSL with Let&rsquo;s Encrypt</h3>

<pre><code>$root@server:~/laravel/laradock# docker-compose up  caddy
</code></pre>

<p>You&rsquo;ll be prompt here to enter your email&hellip; you may enter it or not</p>

<pre><code>Attaching to laradock_mysql_1, laradock_caddy_1
caddy_1               | Activating privacy features...
caddy_1               | Your sites will be served over HTTPS automatically using Let's Encrypt.
caddy_1               | By continuing, you agree to the Let's Encrypt Subscriber Agreement at:
caddy_1               |   https://letsencrypt.org/documents/LE-SA-v1.0.1-July-27-2015.pdf
caddy_1               | Activating privacy features... done.
caddy_1               | https://yourdomain.com
caddy_1               | http://yourdomain.com
</code></pre>

<p>After it finishes, press <code>Ctrl</code> + <code>C</code> to exit.</p>

<h3 id="stop-all-containers-and-rerun-caddy-and-other-containers-on-background">Stop All Containers and ReRun Caddy and Other Containers on Background</h3>

<pre><code>$root@server:~/laravel/laradock# docker-compose down
$root@server:~/laravel/laradock# docker-compose up -d mysql caddy
</code></pre>

<p>View your Site in the Browser Securely Using HTTPS (<a href="https://yourdomain.com">https://yourdomain.com</a>)</p>

<p><strong>Note that Certificate will be Automatically Renew By Caddy</strong></p>

<blockquote>
<p>References:</p>

<ul>
<li><a href="https://www.digitalocean.com/community/tutorials/how-to-install-and-use-docker-on-ubuntu-16-04">https://www.digitalocean.com/community/tutorials/how-to-install-and-use-docker-on-ubuntu-16-04</a></li>
<li><a href="https://www.digitalocean.com/products/one-click-apps/docker/">https://www.digitalocean.com/products/one-click-apps/docker/</a></li>
<li><a href="https://docs.docker.com/engine/installation/linux/ubuntulinux/">https://docs.docker.com/engine/installation/linux/ubuntulinux/</a></li>
<li><a href="https://docs.docker.com/compose/install/">https://docs.docker.com/compose/install/</a></li>
<li><a href="https://caddyserver.com/docs/automatic-https">https://caddyserver.com/docs/automatic-https</a></li>
<li><a href="https://caddyserver.com/docs/tls">https://caddyserver.com/docs/tls</a></li>
<li><a href="https://caddyserver.com/docs/caddyfile">https://caddyserver.com/docs/caddyfile</a></li>
</ul>
</blockquote>

<p><br>
<br>
<br>
<br>
<br></p>

<p><a name="Laravel-Dusk"></a></p>

<h2 id="running-laravel-dusk-tests">Running Laravel Dusk Tests</h2>

<h3 id="option-1-without-selenium">Option 1: Without Selenium</h3>

<ul>
<li><a href="#option1-dusk-intro">Intro</a></li>
<li><a href="#option1-workspace-setup">Workspace Setup</a></li>
<li><a href="#option1-application-setup">Application Setup</a></li>
<li><a href="#option1-choose-chrome-driver-version">Choose Chrome Driver Version (Optional)</a></li>
<li><a href="#option1-run-dusk-tests">Run Dusk Tests</a></li>
</ul>

<h4 id="intro">Intro</h4>

<p>This is a guide to run Dusk tests in your <code>workspace</code> container with headless
google-chrome and chromedriver. It has been tested with Laravel 5.4 and 5.5.</p>

<h4 id="workspace-setup">Workspace Setup</h4>

<p>Update your .env with following entries:</p>

<pre><code>...
# Install Laravel installer bin to setup demo app
WORKSPACE_INSTALL_LARAVEL_INSTALLER=true
...
# Install all the necessary dependencies for running Dusk tests
WORKSPACE_INSTALL_DUSK_DEPS=true
...
</code></pre>

<p>Then run below to build your workspace.</p>

<pre><code>docker-compose build workspace
</code></pre>

<h4 id="application-setup">Application Setup</h4>

<p>Run a <code>workspace</code> container and you will be inside the container at <code>/var/www</code> directory.</p>

<pre><code>docker-compose run workspace bash

/var/www#&gt; _
</code></pre>

<p>Create new Laravel application named <code>dusk-test</code> and install Laravel Dusk package.</p>

<pre><code>/var/www&gt; laravel new dusk-test
/var/www&gt; cd dusk-test
/var/www/dusk-test&gt; composer require --dev laravel/dusk
/var/www/dusk-test&gt; php artisan dusk:install
</code></pre>

<p>Create <code>.env.dusk.local</code> by copying from <code>.env</code> file.</p>

<pre><code>/var/www/dusk-test&gt; cp .env .env.dusk.local
</code></pre>

<p>Update the <code>APP_URL</code> entry in <code>.env.dusk.local</code> to local Laravel server.</p>

<pre><code>APP_URL=http://localhost:8000
</code></pre>

<p>You will need to run chromedriver with <code>headless</code> and <code>no-sandbox</code> flag. In Laravel Dusk 2.x it is
already set <code>headless</code> so you just need to add <code>no-sandbox</code> flag. If you on previous version 1.x,
you will need to update your <code>DustTestCase#driver</code> as shown below.</p>

<pre><code>&lt;?php

...

abstract class DuskTestCase extends BaseTestCase
{
    ...

    /**
    * Update chrome driver with below flags
    */
    protected function driver()
    {
        $options = (new ChromeOptions)-&gt;addArguments([
            '--disable-gpu',
            '--headless',
            '--no-sandbox'
        ]);

        return RemoteWebDriver::create(
            'http://localhost:9515', DesiredCapabilities::chrome()-&gt;setCapability(
                ChromeOptions::CAPABILITY, $options
            )
        );
    }
}
</code></pre>

<h4 id="choose-chrome-driver-version-optional">Choose Chrome Driver Version (Optional)</h4>

<p>You could choose to use either:</p>

<ol>
<li>Chrome Driver shipped with Laravel Dusk. (Default)</li>
<li>Chrome Driver installed in <code>workspace</code> container. (Required tweak on DuskTestCase class)</li>
</ol>

<p>For Laravel Dusk 2.x, you need to update <code>DuskTestCase#prepare</code> method if you wish to go with option #2.</p>

<pre><code>
&lt;?php

...
abstract class DuskTestCase extends BaseTestCase
{
    ...
    public static function prepare()
    {
        // Only add this line if you wish to use chrome driver installed in workspace container.
        // You might want to read the file path from env file.
        static::useChromedriver('/usr/local/bin/chromedriver');

        static::startChromeDriver();
    }
</code></pre>

<p>For Laravel Dusk 1.x, you need to add <code>DuskTestCase#buildChromeProcess</code> method if you wish to go with option #2.</p>

<pre><code>&lt;?php

...
use Symfony\Component\Process\ProcessBuilder;

abstract class DuskTestCase extends BaseTestCase
{
    ...

    /**
    * Only add this method if you wish to use chrome driver installed in workspace container
    */
    protected static function buildChromeProcess()
    {
        return (new ProcessBuilder())
            -&gt;setPrefix('chromedriver')
            -&gt;getProcess()
            -&gt;setEnv(static::chromeEnvironment());
    }

    ...
}
</code></pre>

<h4 id="run-dusk-tests">Run Dusk Tests</h4>

<p>Run local server in <code>workspace</code> container and run Dusk tests.</p>

<pre><code># alias to run Laravel server in the background (php artisan serve --quiet &amp;)
/var/www/dusk-test&gt; serve
# alias to run Dusk tests (php artisan dusk)
/var/www/dusk-test&gt; dusk

PHPUnit 6.4.0 by Sebastian Bergmann and contributors.

.                                                                   1 / 1 (100%)

Time: 837 ms, Memory: 6.00MB
</code></pre>

<h3 id="option-2-with-selenium">Option 2: With Selenium</h3>

<ul>
<li><a href="#dusk-intro">Intro</a></li>
<li><a href="#dns-setup">DNS Setup</a></li>
<li><a href="#docker-compose">Docker Compose Setup</a></li>
<li><a href="#laravel-dusk-setup">Laravel Dusk Setup</a></li>
<li><a href="#running-tests">Running Laravel Dusk Tests</a></li>
</ul>

<h4 id="intro-1">Intro</h4>

<p>Setting up Laravel Dusk tests to run with Laradock appears be something that
eludes most Laradock users. This guide is designed to show you how to wire them
up to work together. This guide is written with macOS and Linux in mind. As such,
it&rsquo;s only been tested on macOS. Feel free to create pull requests to update the guide
for Windows-specific instructions.</p>

<p>This guide assumes you know how to use a DNS forwarder such as <code>dnsmasq</code> or are comfortable
with editing the <code>/etc/hosts</code> file for one-off DNS changes.</p>

<h4 id="dns-setup">DNS Setup</h4>

<p>According to RFC-2606, only four TLDs are reserved for local testing<sup class="footnote-ref" id="fnref:1"><a rel="footnote" href="#fn:1">1</a></sup>:</p>

<ul>
<li><code>.test</code></li>
<li><code>.example</code></li>
<li><code>.invalid</code></li>
<li><code>.localhost</code></li>
</ul>

<p>A common TLD used for local development is <code>.dev</code>, but newer versions of Google
Chrome (such as the one bundled with the Selenium Docker image), will fail to
resolve that DNS as there will appear to be a name collision.</p>

<p>The recommended extension is <code>.test</code> for your Laravel web apps because you&rsquo;re
running tests. Using a DNS forwarder such as <code>dnsmasq</code> or by editing the <code>/etc/hosts</code>
file, configure the host to point to <code>localhost</code>.</p>

<p>For example, in your <code>/etc/hosts</code> file:</p>

<pre><code>##
# Host Database
#
# localhost is used to configure the loopback interface
# when the system is booting.  Do not change this entry.
##
127.0.0.1       localhost
255.255.255.255 broadcasthost
::1             localhost
127.0.0.1       myapp.test
</code></pre>

<p>This will ensure that when navigating to <code>myapp.test</code>, it will route the
request to <code>127.0.0.1</code> which will be handled by Nginx in Laradock.</p>

<h4 id="docker-compose-setup">Docker Compose setup</h4>

<p>In order to make the Selenium container talk to the Nginx container appropriately,
the <code>docker-compose.yml</code> needs to be edited to accommodate this. Make the following
changes:</p>

<pre><code class="language-yaml">...
selenium:
  ...
  depends_on:
  - nginx
  links:
  - nginx:&lt;your_domain&gt;
</code></pre>

<p>This allows network communication between the Nginx and Selenium containers
and it also ensures that when starting the Selenium container, the Nginx
container starts up first unless it&rsquo;s already running. This allows
the Selenium container to make requests to the Nginx container, which is
necessary for running Dusk tests. These changes also link the <code>nginx</code> environment
variable to the domain you wired up in your hosts file.</p>

<h4 id="laravel-dusk-setup">Laravel Dusk Setup</h4>

<p>In order to make Laravel Dusk make the proper request to the Selenium container,
you have to edit the <code>DuskTestCase.php</code> file that&rsquo;s provided on the initial
installation of Laravel Dusk. The change you have to make deals with the URL the
Remote Web Driver attempts to use to set up the Selenium session.</p>

<p>One recommendation for this is to add a separate config option in your <code>.env.dusk.local</code>
so it&rsquo;s still possible to run your Dusk tests locally should you want to.</p>

<h5 id="env-dusk-local">.env.dusk.local</h5>

<pre><code>...
USE_SELENIUM=true
</code></pre>

<h5 id="dusktestcase-php">DuskTestCase.php</h5>

<pre><code class="language-php">abstract class DuskTestCase extends BaseTestCase
{
...
    protected function driver()
    {
        if (env('USE_SELENIUM', 'false') == 'true') {
            return RemoteWebDriver::create(
                'http://selenium:4444/wd/hub', DesiredCapabilities::chrome()
            );
        } else {
            return RemoteWebDriver::create(
                'http://localhost:9515', DesiredCapabilities::chrome()
            );
        }
    }
}
</code></pre>

<h4 id="running-laravel-dusk-tests-1">Running Laravel Dusk Tests</h4>

<p>Now that you have everything set up, to run your Dusk tests, you have to SSH
into the workspace container as you normally would:
<code>docker-compose exec --user=laradock workspace bash</code></p>

<p>Once inside, you can change directory to your application and run:</p>

<p><code>php artisan dusk</code></p>

<p>One way to make this easier from your project is to create a helper script. Here&rsquo;s one such example:</p>

<pre><code class="language-bash">#!/usr/bin/env sh

LARADOCK_HOME=&quot;path/to/laradock&quot;

pushd ${LARADOCK_HOME}

docker-compose exec --user=laradock workspace bash -c &quot;cd my-project &amp;&amp; php artisan dusk &amp;&amp; exit&quot;
</code></pre>

<p>This invokes the Dusk command from inside the workspace container but when the script completes
execution, it returns your session to your project directory.</p>

<p><br>
<br>
<br>
<br>
<br></p>

<p><a name="PHPStorm-Debugging"></a></p>

<h2 id="phpstorm-xdebug-setup">PHPStorm XDebug Setup</h2>

<ul>
<li><a href="#Intro">Intro</a></li>
<li><a href="#Installation">Installation</a>

<ul>
<li><a href="#CustomizeDockerCompose">Customize laradock/docker-compose.yml</a>

<ul>
<li><a href="#InstallCleanHouse">Clean House</a></li>
<li><a href="#InstallLaradockDialTone">Laradock Dial Tone</a></li>
<li><a href="#AddToHosts">hosts</a></li>
<li><a href="#FireWall">Firewall</a></li>
<li><a href="#enablePhpXdebug">Enable xDebug on php-fpm</a></li>
</ul></li>
<li><a href="#InstallPHPStorm">PHPStorm Settings</a>

<ul>
<li><a href="#InstallPHPStormConfigs">Configs</a></li>
</ul></li>
</ul></li>
<li><a href="#Usage">Usage</a>

<ul>
<li><a href="#UsageLaravel">Laravel</a>

<ul>
<li><a href="#UsagePHPStormRunExampleTest">Run ExampleTest</a></li>
<li><a href="#UsagePHPStormDebugExampleTest">Debug ExampleTest</a></li>
<li><a href="#UsagePHPStormDebugSite">Debug Web Site</a></li>
</ul></li>
</ul></li>
<li><a href="#SSHintoWorkspace">SSH into workspace</a>

<ul>
<li><a href="#InstallKiTTY">KiTTY</a></li>
</ul></li>
</ul>

<h3 id="intro-2">Intro</h3>

<p>Wiring up <a href="https://laravel.com/">Laravel</a>, <a href="https://github.com/Laradock/laradock">Laradock</a> [Laravel+Docker] and <a href="https://www.jetbrains.com/phpstorm/">PHPStorm</a> to play nice together complete with remote xdebug&rsquo;ing as icing on top! Although this guide is based on <code>PHPStorm Windows</code>,
you should be able to adjust accordingly. This guide was written based on Docker for Windows Native.</p>

<h3 id="installation">Installation</h3>

<ul>
<li>This guide assumes the following:

<ul>
<li>you have already installed and are familiar with Laravel, Laradock and PHPStorm.</li>
<li>you have installed Laravel as a parent of <code>laradock</code>. This guide assumes <code>/c/_dk/laravel</code>.</li>
</ul></li>
</ul>

<h3 id="hosts">hosts</h3>

<ul>
<li><p>Add <code>laravel</code> to your hosts file located on Windows 10 at <code>C:\Windows\System32\drivers\etc\hosts</code>. It should be set to the IP of your running container. Mine is: <code>10.0.75.2</code>
On Windows you can find it by opening Windows <code>Hyper-V Manager</code>.</p>

<ul>
<li><img src="images/photos/PHPStorm/Settings/WindowsHyperVManager.png" alt="Windows Hyper-V Manager" /></li>
</ul></li>

<li><p><a href="https://github.com/scottlerch/HostsFileEditor">Hosts File Editor</a> makes it easy to change your hosts file.</p>

<ul>
<li>Set <code>laravel</code> to your docker host IP. See <a href="images/photos/SimpleHostsEditor/AddHost_laravel.png">Example</a>.</li>
</ul></li>
</ul>

<h3 id="firewall">Firewall</h3>

<p>Your PHPStorm will need to be able to receive a connection from PHP xdebug either your running workspace or php-fpm containers on port 9000. This means that your Windows Firewall should either enable connections from the Application PHPStorm OR the port.</p>

<ul>
<li>It is important to note that if the Application PHPStorm is NOT enabled in the firewall, you will not be able to recreate a rule to override that.</li>
<li>Also be aware that if you are installing/upgrade different versions of PHPStorm, you MAY have orphaned references to PHPStorm in your Firewall! You may decide to remove orphaned references however in either case, make sure that they are set to receive public TCP traffic.</li>
</ul>

<h4 id="edit-laradock-docker-compose-yml">Edit laradock/docker-compose.yml</h4>

<p>Set the following variables:</p>

<pre><code>### Workspace Utilities Container ###############

    workspace:
        build:
            context: ./workspace
            args:
                - INSTALL_XDEBUG=true
                - INSTALL_WORKSPACE_SSH=true
                ...


### PHP-FPM Container #####################

    php-fpm:
        build:
            context: ./php-fpm
            args:
                - INSTALL_XDEBUG=true
                ...

</code></pre>

<h4 id="edit-xdebug-ini-files">Edit xdebug.ini files</h4>

<ul>
<li><code>laradock/workspace/xdebug.ini</code></li>
<li><code>laradock/php-fpm/xdebug.ini</code></li>
</ul>

<p>Set the following variables:</p>

<pre><code>xdebug.remote_autostart=1
xdebug.remote_enable=1
xdebug.remote_connect_back=1
xdebug.cli_color=1
</code></pre>

<h4 id="need-to-clean-house-first">Need to clean house first?</h4>

<p>Make sure you are starting with a clean state. For example, do you have other Laradock containers and images?
Here are a few things I use to clean things up.</p>

<ul>
<li>Delete all containers using <code>grep laradock_</code> on the names, see: <a href="https://linuxconfig.org/remove-all-containners-based-on-docker-image-name">Remove all containers based on docker image name</a>.</li>
</ul>

<p><code>docker ps -a | awk '{ print $1,$2 }' | grep laradock_ | awk '{print $1}' | xargs -I {} docker rm {}</code></p>

<ul>
<li>Delete all images containing <code>laradock</code>.</li>
</ul>

<p><code>docker images | awk '{print $1,$2,$3}' | grep laradock_ | awk '{print $3}' | xargs -I {} docker rmi {}</code>
<strong>Note:</strong> This will only delete images that were built with <code>Laradock</code>, <strong>NOT</strong> <code>laradock/*</code> which are pulled down by <code>Laradock</code> such as <code>laradock/workspace</code>, etc.
<strong>Note:</strong> Some may fail with:
<code>Error response from daemon: conflict: unable to delete 3f38eaed93df (cannot be forced) - image has dependent child images</code></p>

<ul>
<li>I added this to my <code>.bashrc</code> to remove orphaned images.</li>
</ul>

<pre><code>dclean() {
    processes=`docker ps -q -f status=exited`
    if [ -n &quot;$processes&quot; ]; then
      docker rm $processes
    fi

    images=`docker images -q -f dangling=true`
    if [ -n &quot;$images&quot; ]; then
      docker rmi $images
    fi
}
</code></pre>

<ul>
<li>If you frequently switch configurations for Laradock, you may find that adding the following and added to your <code>.bashrc</code> or equivalent useful:</li>
</ul>

<pre><code># remove laravel* containers
# remove laravel_* images
dcleanlaradockfunction()
{
	echo 'Removing ALL containers associated with laradock'
	docker ps -a | awk '{ print $1,$2 }' | grep laradock | awk '{print $1}' | xargs -I {} docker rm {}

	# remove ALL images associated with laradock_
	# does NOT delete laradock/* which are hub images
	echo 'Removing ALL images associated with laradock_'
	docker images | awk '{print $1,$2,$3}' | grep laradock_ | awk '{print $3}' | xargs -I {} docker rmi {}

	echo 'Listing all laradock docker hub images...'
	docker images | grep laradock

	echo 'dcleanlaradock completed'
}
# associate the above function with an alias
# so can recall/lookup by typing 'alias'
alias dcleanlaradock=dcleanlaradockfunction
</code></pre>

<h3 id="let-s-get-a-dial-tone-with-laravel">Let&rsquo;s get a dial-tone with Laravel</h3>

<pre><code># barebones at this point
docker-compose up -d nginx mysql

# run
docker-compose ps

# Should see:
          Name                        Command             State                     Ports
-----------------------------------------------------------------------------------------------------------
laradock_mysql_1            docker-entrypoint.sh mysqld   Up       0.0.0.0:3306-&gt;3306/tcp
laradock_nginx_1            nginx                         Up       0.0.0.0:443-&gt;443/tcp, 0.0.0.0:80-&gt;80/tcp
laradock_php-fpm_1          php-fpm                       Up       9000/tcp
laradock_volumes_data_1     true                          Exit 0
laradock_volumes_source_1   true                          Exit 0
laradock_workspace_1        /sbin/my_init                 Up       0.0.0.0:2222-&gt;22/tcp
</code></pre>

<h3 id="enable-xdebug-on-php-fpm">Enable xDebug on php-fpm</h3>

<p>In a host terminal sitting in the laradock folder, run: <code>./php-fpm/xdebug status</code>
You should see something like the following:</p>

<pre><code>xDebug status
laradock_php-fpm_1
PHP 7.0.9 (cli) (built: Aug 10 2016 19:45:48) ( NTS )
Copyright (c) 1997-2016 The PHP Group
Zend Engine v3.0.0, Copyright (c) 1998-2016 Zend Technologies
    with Xdebug v2.4.1, Copyright (c) 2002-2016, by Derick Rethans
</code></pre>

<p>Other commands include <code>./php-fpm/xdebug start | stop</code>.</p>

<p>If you have enabled <code>xdebug=true</code> in <code>docker-compose.yml/php-fpm</code>, <code>xdebug</code> will already be running when
<code>php-fpm</code> is started and listening for debug info on port 9000.</p>

<h3 id="phpstorm-settings">PHPStorm Settings</h3>

<ul>
<li><p>Here are some settings that are known to work:</p>

<ul>
<li><p><code>Settings/BuildDeploymentConnection</code></p>

<ul>
<li><img src="https://laradock.io/images/photos/PHPStorm/Settings/BuildDeploymentConnection.png" alt="Settings/BuildDeploymentConnection" /></li>
</ul></li>

<li><p><code>Settings/BuildDeploymentConnectionMappings</code></p>

<ul>
<li><img src="https://laradock.io/images/photos/PHPStorm/Settings/BuildDeploymentConnectionMappings.png" alt="Settings/BuildDeploymentConnectionMappings" /></li>
</ul></li>

<li><p><code>Settings/BuildDeploymentDebugger</code></p>

<ul>
<li><img src="https://laradock.io/images/photos/PHPStorm/Settings/BuildDeploymentDebugger.png" alt="Settings/BuildDeploymentDebugger" /></li>
</ul></li>

<li><p><code>Settings/EditRunConfigurationRemoteWebDebug</code></p>

<ul>
<li><img src="https://laradock.io/images/photos/PHPStorm/Settings/EditRunConfigurationRemoteWebDebug.png" alt="Settings/EditRunConfigurationRemoteWebDebug" /></li>
</ul></li>

<li><p><code>Settings/EditRunConfigurationRemoteExampleTestDebug</code></p>

<ul>
<li><img src="https://laradock.io/images/photos/PHPStorm/Settings/EditRunConfigurationRemoteExampleTestDebug.png" alt="Settings/EditRunConfigurationRemoteExampleTestDebug" /></li>
</ul></li>

<li><p><code>Settings/LangsPHPDebug</code></p>

<ul>
<li><img src="https://laradock.io/images/photos/PHPStorm/Settings/LangsPHPDebug.png" alt="Settings/LangsPHPDebug" /></li>
</ul></li>

<li><p><code>Settings/LangsPHPInterpreters</code></p>

<ul>
<li><img src="https://laradock.io/images/photos/PHPStorm/Settings/LangsPHPInterpreters.png" alt="Settings/LangsPHPInterpreters" /></li>
</ul></li>

<li><p><code>Settings/LangsPHPPHPUnit</code></p>

<ul>
<li><img src="https://laradock.io/images/photos/PHPStorm/Settings/LangsPHPPHPUnit.png" alt="Settings/LangsPHPPHPUnit" /></li>
</ul></li>

<li><p><code>Settings/LangsPHPServers</code></p>

<ul>
<li><img src="https://laradock.io/images/photos/PHPStorm/Settings/LangsPHPServers.png" alt="Settings/LangsPHPServers" /></li>
</ul></li>

<li><p><code>RemoteHost</code>
To switch on this view, go to: <code>Menu/Tools/Deployment/Browse Remote Host</code>.</p>

<ul>
<li><img src="https://laradock.io/images/photos/PHPStorm/RemoteHost.png" alt="RemoteHost" /></li>
</ul></li>

<li><p><code>RemoteWebDebug</code></p>

<ul>
<li><img src="https://laradock.io/images/photos/PHPStorm/DebugRemoteOn.png" alt="DebugRemoteOn" /></li>
</ul></li>

<li><p><code>EditRunConfigurationRemoteWebDebug</code>
Go to: <code>Menu/Run/Edit Configurations</code>.</p>

<ul>
<li><img src="https://laradock.io/images/photos/PHPStorm/Settings/EditRunConfigurationRemoteWebDebug.png" alt="EditRunConfigurationRemoteWebDebug" /></li>
</ul></li>

<li><p><code>EditRunConfigurationRemoteExampleTestDebug</code>
Go to: <code>Menu/Run/Edit Configurations</code>.</p>

<ul>
<li><img src="https://laradock.io/images/photos/PHPStorm/Settings/EditRunConfigurationRemoteExampleTestDebug.png" alt="EditRunConfigurationRemoteExampleTestDebug" /></li>
</ul></li>

<li><p><code>WindowsFirewallAllowedApps</code>
Go to: <code>Control Panel\All Control Panel Items\Windows Firewall\Allowed apps</code>.</p>

<ul>
<li><img src="https://laradock.io/images/photos/PHPStorm/Settings/WindowsFirewallAllowedApps.png" alt="WindowsFirewallAllowedApps.png" /></li>
</ul></li>

<li><p><code>hosts</code>
Edit: <code>C:\Windows\System32\drivers\etc\hosts</code>.</p>

<ul>
<li><p><img src="https://laradock.io/images/photos/PHPStorm/Settings/hosts.png" alt="WindowsFirewallAllowedApps.png" /></p></li>

<li><p><a href="#enablePhpXdebug">Enable xDebug on php-fpm</a></p></li>
</ul></li>
</ul></li>
</ul>

<h3 id="usage">Usage</h3>

<h4 id="run-exampletest">Run ExampleTest</h4>

<ul>
<li>right-click on <code>tests/ExampleTest.php</code>

<ul>
<li>Select: <code>Run 'ExampleTest.php'</code> or <code>Ctrl+Shift+F10</code>.</li>
<li>Should pass!! You just ran a remote test via SSH!</li>
</ul></li>
</ul>

<h4 id="debug-exampletest">Debug ExampleTest</h4>

<ul>
<li>Open to edit: <code>tests/ExampleTest.php</code></li>
<li>Add a BreakPoint on line 16: <code>$this-&gt;visit('/')</code></li>
<li>right-click on <code>tests/ExampleTest.php</code>

<ul>
<li>Select: <code>Debug 'ExampleTest.php'</code>.</li>
<li>Should have stopped at the BreakPoint!! You are now debugging locally against a remote Laravel project via SSH!</li>
<li><img src="https://laradock.io/images/photos/PHPStorm/RemoteTestDebuggingSuccess.png" alt="Remote Test Debugging Success" /></li>
</ul></li>
</ul>

<h4 id="debug-website">Debug WebSite</h4>

<ul>
<li><p>In case xDebug is disabled, from the <code>laradock</code> folder run:
<code>./php-fpm/xdebug start</code>.</p>

<ul>
<li>To switch xdebug off, run:
<code>./php-fpm/xdebug stop</code></li>
</ul></li>

<li><p>Start Remote Debugging</p>

<ul>
<li><img src="https://laradock.io/images/photos/PHPStorm/DebugRemoteOn.png" alt="DebugRemoteOn" /></li>
</ul></li>

<li><p>Open to edit: <code>bootstrap/app.php</code></p></li>

<li><p>Add a BreakPoint on line 14: <code>$app = new Illuminate\Foundation\Application(</code></p></li>

<li><p>Reload <a href="http://laravel/">Laravel Site</a></p>

<ul>
<li>Should have stopped at the BreakPoint!! You are now debugging locally against a remote Laravel project via SSH!</li>
<li><img src="https://laradock.io/images/photos/PHPStorm/RemoteDebuggingSuccess.png" alt="Remote Debugging Success" /></li>
</ul></li>
</ul>

<h3 id="let-s-shell-into-workspace">Let&rsquo;s shell into workspace</h3>

<p>Assuming that you are in laradock folder, type:
<code>ssh -i workspace/insecure_id_rsa -p2222 root@laravel</code>
<strong>Cha Ching!!!!</strong>
- <code>workspace/insecure_id_rsa.ppk</code> may become corrupted. In which case:
    - fire up <code>puttygen</code>
    - import <code>workspace/insecure_id_rsa</code>
    - save private key to <code>workspace/insecure_id_rsa.ppk</code></p>

<h4 id="kitty">KiTTY</h4>

<p><a href="http://www.9bis.net/kitty/">Kitty</a> KiTTY is a fork from version 0.67 of PuTTY.</p>

<ul>
<li>Here are some settings that are working for me:

<ul>
<li><img src="https://laradock.io/images/photos/KiTTY/Session.png" alt="Session" /></li>
<li><img src="https://laradock.io/images/photos/KiTTY/Terminal.png" alt="Terminal" /></li>
<li><img src="https://laradock.io/images/photos/KiTTY/Window.png" alt="Window" /></li>
<li><img src="https://laradock.io/images/photos/KiTTY/WindowAppearance.png" alt="WindowAppearance" /></li>
<li><img src="https://laradock.io/images/photos/KiTTY/Connection.png" alt="Connection" /></li>
<li><img src="https://laradock.io/images/photos/KiTTY/ConnectionData.png" alt="ConnectionData" /></li>
<li><img src="https://laradock.io/images/photos/KiTTY/ConnectionSSH.png" alt="ConnectionSSH" /></li>
<li><img src="https://laradock.io/images/photos/KiTTY/ConnectionSSHAuth.png" alt="ConnectionSSHAuth" /></li>
<li><img src="https://laradock.io/images/photos/KiTTY/TerminalShell.png" alt="TerminalShell" /></li>
</ul></li>
</ul>

<p><br>
<br>
<br>
<br>
<br></p>

<p><a name="Setup remote debugging (PhpStorm)"></a></p>

<h2 id="setup-remote-debugging-for-phpstorm-on-linux">Setup remote debugging for PhpStorm on Linux</h2>

<ul>
<li><p>Make sure you have followed the steps above in the <a href="#install-xdebug">Install Xdebug section</a>.</p></li>

<li><p>Make sure Xdebug accepts connections and listens on port 9000. (Should be default configuration).</p></li>
</ul>

<p><img src="https://laradock.io/images/photos/PHPStorm/linux/configuration/debugConfiguration.png" alt="Debug Configuration" title="Debug Configuration" />.</p>

<ul>
<li>Create a server with name <code>laradock</code> (matches <strong>PHP_IDE_CONFIG</strong> key in environment file) and make sure to map project root path with server correctly.</li>
</ul>

<p><img src="https://laradock.io/images/photos/PHPStorm/linux/configuration/serverConfiguration.png" alt="Server Configuration" title="Server Configuration" />.</p>

<ul>
<li>Start listening for debug connections, place a breakpoint and you are good to go !</li>
</ul>
<div class="footnotes">

<hr />

<ol>
<li id="fn:1"><a href="https://iyware.com/dont-use-dev-for-development/">Don&rsquo;t Use .dev for Development</a>
 <a class="footnote-return" href="#fnref:1"><sup>[return]</sup></a></li>
</ol>
</div>

			
			<br><br><br><br><br><br>
			<hr>
			<br>
			<h1>5. Help &amp; Questions </h1>

			

<p>Join the chat room on <a href="https://gitter.im/Laradock/laradock">Gitter</a> and get help and support from the community.</p>

<p>You can as well can open an <a href="https://github.com/laradock/laradock/issues">issue</a> on Github (will be labeled as Question) and discuss it with people on <a href="https://gitter.im/Laradock/laradock">Gitter</a>.</p>

<p><br>
<a name="Common-Problems"></a></p>

<h1 id="common-problems">Common Problems</h1>

<p><em>Here&rsquo;s a list of the common problems you might face, and the possible solutions.</em></p>

<p><br></p>

<h2 id="i-see-a-blank-white-page-instead-of-the-laravel-welcome-page">I see a blank (white) page instead of the Laravel &lsquo;Welcome&rsquo; page!</h2>

<p>Run the following command from the Laravel root directory:</p>

<pre><code class="language-bash">sudo chmod -R 777 storage bootstrap/cache
</code></pre>

<p><br></p>

<h2 id="i-see-welcome-to-nginx-instead-of-the-laravel-app">I see &ldquo;Welcome to nginx&rdquo; instead of the Laravel App!</h2>

<p>Use <code>http://127.0.0.1</code> instead of <code>http://localhost</code> in your browser.</p>

<p><br></p>

<h2 id="i-see-an-error-message-containing-address-already-in-use-or-port-is-already-allocated">I see an error message containing <code>address already in use</code> or <code>port is already allocated</code></h2>

<p>Make sure the ports for the services that you are trying to run (22, 80, 443, 3306, etc.) are not being used already by other programs on the host, such as a built in <code>apache</code>/<code>httpd</code> service or other development tools you have installed.</p>

<p><br></p>

<h2 id="i-get-nginx-error-404-not-found-on-windows">I get NGINX error 404 Not Found on Windows.</h2>

<ol>
<li>Go to docker Settings on your Windows machine.</li>
<li>Click on the <code>Shared Drives</code> tab and check the drive that contains your project files.</li>
<li>Enter your windows username and password.</li>
<li>Go to the <code>reset</code> tab and click restart docker.</li>
</ol>

<p><br></p>

<h2 id="the-time-in-my-services-does-not-match-the-current-time">The time in my services does not match the current time</h2>

<ol>
<li>Make sure you&rsquo;ve <a href="#Change-the-timezone">changed the timezone</a>.</li>
<li>Stop and rebuild the containers (<code>docker-compose up -d --build &lt;services&gt;</code>)</li>
</ol>

<p><br></p>

<h2 id="i-get-mysql-connection-refused">I get MySQL connection refused</h2>

<p>This error sometimes happens because your Laravel application isn&rsquo;t running on the container localhost IP (Which is 127.0.0.1). Steps to fix it:</p>

<ul>
<li>Option A

<ol>
<li>Check your running Laravel application IP by dumping <code>Request::ip()</code> variable using <code>dd(Request::ip())</code> anywhere on your application. The result is the IP of your Laravel container.</li>
<li>Change the <code>DB_HOST</code> variable on env with the IP that you received from previous step.</li>
</ol></li>
<li>Option B

<ol>
<li>Change the <code>DB_HOST</code> value to the same name as the MySQL docker container. The Laradock docker-compose file currently has this as <code>mysql</code></li>
</ol></li>
</ul>

<h2 id="i-get-stuck-when-building-nginx-on-fetch-http-mirrors-aliyun-com-alpine-v3-5-main-x86-64-apkindex-tar-gz">I get stuck when building nginx on <code>fetch http://mirrors.aliyun.com/alpine/v3.5/main/x86_64/APKINDEX.tar.gz</code></h2>

<p>As stated on <a href="https://github.com/laradock/laradock/issues/749#issuecomment-419652646">#749</a>, Already fixed，just set <code>CHANGE_SOURCE</code> to false.</p>

<h2 id="custom-composer-repo-packagist-url-and-npm-registry-url">Custom composer repo packagist url and npm registry url</h2>

<p>In China, the origin source of composer and npm is very slow. You can add <code>WORKSPACE_NPM_REGISTRY</code> and <code>WORKSPACE_COMPOSER_REPO_PACKAGIST</code> config in <code>.env</code> to use your custom source.</p>

<p>Example:</p>

<pre><code class="language-bash">WORKSPACE_NPM_REGISTRY=https://registry.npm.taobao.org
WORKSPACE_COMPOSER_REPO_PACKAGIST=https://packagist.phpcomposer.com
</code></pre>

<p><br></p>

<h2 id="i-get-module-build-failed-error-write-epipe-while-compiling-react-application">I get <code>Module build failed: Error: write EPIPE</code> while compiling react application</h2>

<p>When you run <code>npm build</code> or <code>yarn dev</code> building a react application using webpack with elixir you may receive a <code>Error: write EPIPE</code> while processing .jpg images.</p>

<p>This is caused of an outdated library for processing <strong>.jpg files</strong> in ubuntu 16.04.</p>

<p>To fix the problem you can follow those steps</p>

<p>1 - Open the <code>.env</code>.</p>

<p>2 - Search for <code>WORKSPACE_INSTALL_LIBPNG</code> or add the key if missing.</p>

<p>3 - Set the value to true:</p>

<pre><code class="language-dotenv">WORKSPACE_INSTALL_LIBPNG=true
</code></pre>

<p>4 - Finally rebuild the workspace image</p>

<pre><code class="language-bash">docker-compose build workspace
</code></pre>

			
			<br><br><br><br><br><br>
			<hr>
			<br>
			<h1>6. Related Projects </h1>

			<p>Laradock related projects:</p>

<ul>
<li><a href="https://github.com/lorinlee/laradock-cli">Laradock CLI</a> by <a href="https://github.com/lorinlee">LorinLee</a></li>
<li><a href="https://github.com/bagart/laradock_env">Laradock Env</a> by <a href="https://github.com/bagart">BAGArt</a></li>
<li><a href="https://github.com/poyhsiao/Klaradock">Klaradock</a> by <a href="https://github.com/poyhsiao">Kim Hsiao</a></li>
<li><a href="https://github.com/sifat-rahim/ansible-laradock-kubernetes">Ansible Laradock Kubernetes</a> by <a href="https://github.com/sifat-rahim">Sifat Rahim</a>
These Docker Compose projects have piqued our interest:</li>
<li><a href="https://github.com/ojhaujjwal/magedock">MageDock</a> by <a href="https://github.com/ojhaujjwal">Ujjwal Ojha</a></li>
<li><a href="https://github.com/scudelletti/rubydev-dock">RubyDev-Dock</a> by <a href="https://github.com/scudelletti">Diogo Scudelletti</a></li>
<li><a href="https://github.com/Osedea/nodock">NoDock</a> by <a href="https://github.com/Osedea">Osedea</a></li>
<li><a href="https://github.com/taufek/dockery">Dockery</a> by <a href="https://github.com/Taufek">Taufek</a></li>
</ul>

<p>If you want your project listed here, please open an issue.</p>

			
			<br><br><br><br><br><br>
			<hr>
			<br>
			<h1>7. Contributing </h1>

			

<h2 id="have-a-question">Have a Question</h2>

<p>If you have questions about how to use Laradock, please direct your questions to the discussion on <a href="https://gitter.im/Laradock/laradock">Gitter</a>. If you believe your question could help others, then consider opening an <a href="https://github.com/laradock/laradock/issues">Issue</a> (it will be labeled as <code>Question</code>) And you can still seek help on Gitter for it.</p>

<h2 id="found-an-issue">Found an Issue</h2>

<p>If you have an issue or you found a typo in the documentation, you can help us by
opening an <a href="https://github.com/laradock/laradock/issues">Issue</a>.</p>

<p><strong>Steps to do before opening an Issue:</strong></p>

<ol>
<li><p>Before you submit your issue search the archive, maybe your question was already answered couple hours ago (search in the closed Issues as well).</p></li>

<li><p>Decide if the Issue belongs to this project or to <a href="https://github.com/docker">Docker</a> itself! or even the tool you are using such as Nginx or MongoDB&hellip;</p></li>
</ol>

<p>If your issue appears to be a bug, and hasn&rsquo;t been reported, then open a new issue.</p>

<p><em>This helps us maximize the effort we can spend fixing issues and adding new
features, by not reporting duplicate issues.</em></p>

<h2 id="want-a-feature">Want a Feature</h2>

<p>You can request a new feature by submitting an <a href="https://github.com/laradock/laradock/issues">Issue</a> (it will be labeled as <code>Feature Suggestion</code>). If you would like to implement a new feature then consider submitting a Pull Request yourself.</p>

<h2 id="update-the-documentation-site">Update the Documentation (Site)</h2>

<p>Laradock uses <a href="https://gohugo.io/">Hugo</a> as website generator tool, with the <a href="http://themes.gohugo.io/theme/material-docs/">Material Docs theme</a>. You might need to check their docs quickly.</p>

<p>Go the <code>DOCUMENTATION/content</code> and search for the markdown file you want to edit</p>

<p>Note: Every folder represents a section in the sidebar &ldquo;Menu&rdquo;. And every page and sidebar has a <code>weight</code> number to show it&rsquo;s position in the site.</p>

<p>To update the sidebar or add a new section to it, you can edit this <code>DOCUMENTATION/config.toml</code> toml file.</p>

<blockquote>
<p>The site will be auto-generated in the <code>docs/</code> folder by <a href="https://travis-ci.org/laradock/laradock/">Travis CI</a>.</p>
</blockquote>

<h3 id="host-the-documentation-locally">Host the documentation locally</h3>

<ol>
<li>Install <a href="https://gohugo.io/">Hugo</a> on your machine.</li>
<li>Edit the <code>DOCUMENTATION/content</code>.</li>
<li>Delete the <code>/docs</code> folder from the root.</li>
<li>After you finish the editing, go to <code>DOCUMENTATION/</code> and run the <code>hugo</code> command to generate the HTML docs (inside a new <code>/docs</code> folder).</li>
</ol>

<h2 id="support-new-software-add-new-container">Support new Software (Add new Container)</h2>

<ul>
<li><p>Fork the repo and clone the code.</p></li>

<li><p>Create folder as the software name (example: <code>mysql</code> - <code>nginx</code>).</p></li>

<li><p>Add your <code>Dockerfile</code> in the folder &ldquo;you may add additional files as well&rdquo;.</p></li>

<li><p>Add the software to the <code>docker-compose.yml</code> file.</p></li>

<li><p>Make sure you follow the same code/comments style.</p></li>

<li><p>Add the environment variables to the <code>env-example</code> if you have any.</p></li>

<li><p><strong>MOST IMPORTANTLY</strong> update the <code>Documentation</code>, add as much information.</p></li>

<li><p>Submit a Pull Request, to the <code>master</code> branch.</p></li>
</ul>

<h2 id="edit-supported-software-edit-a-container">Edit supported Software (Edit a Container)</h2>

<ul>
<li><p>Fork the repo and clone the code.</p></li>

<li><p>Open the software (container) folder (example: <code>mysql</code> - <code>nginx</code>).</p></li>

<li><p>Edit the files.</p></li>

<li><p>Make sure to update the <code>Documentation</code> in case you made any changes.</p></li>

<li><p>Submit a Pull Request, to the <code>master</code> branch.</p></li>
</ul>

<h2 id="edit-base-image">Edit Base Image</h2>

<ul>
<li><p>Open any dockerfile, copy the base image name (example: <code>FROM phusion/baseimage:latest</code>).</p></li>

<li><p>Search for the image in the <a href="https://hub.docker.com/search/">Docker Hub</a> and find the source..</p></li>
</ul>

<p><em>Most of the image in Laradock are offical images, these projects live in other repositories and maintainer by other organizations.</em></p>

<p><strong>Note:</strong> Laradock has two base images for (<code>Workspace</code> and <code>php-fpm</code>, mainly made to speed up the build time on your machine.</p>

<ul>
<li><p>Find the dockerfiles, edit them and submit a Pull Request.</p></li>

<li><p>When updating a Laradock base image (<code>Workspace</code> or <code>php-fpm</code>), ask a project maintainer &ldquo;Admin&rdquo; to build a new image after your PR is merged.</p></li>
</ul>

<p><strong>Note:</strong> after the base image is updated, every dockerfile that uses that image, needs to update his base image tag to get the updated code.</p>

<p><br></p>

<h2 id="submit-pull-request-instructions">Submit Pull Request Instructions</h2>

<h3 id="1-before-submitting-a-pull-request-pr">1. Before Submitting a Pull Request (PR)</h3>

<p>Always Test everything and make sure its working:</p>

<ul>
<li>Pull the latest updates (or fork of you don’t have permission)</li>
<li>Before editing anything:

<ul>
<li>Test building the container (docker-compose build &ndash;no-cache container-name) build with no cache first.</li>
<li>Test running the container with some other containers in real app and see of everything is working fine.</li>
</ul></li>
<li>Now edit the container (edit section by section and test rebuilding the container after every edited section)

<ul>
<li>Testing building the container (docker-compose build container-name) with no errors.</li>
<li>Test it in a real App if possible.</li>
</ul></li>
</ul>

<h3 id="2-submitting-a-pr">2. Submitting a PR</h3>

<p>Consider the following guidelines:</p>

<ul>
<li><p>Search <a href="https://github.com/laradock/laradock/pulls">GitHub</a> for an open or closed Pull Request that relates to your submission. You don&rsquo;t want to duplicate efforts.</p></li>

<li><p>Make your changes in a new git branch:</p>

<pre><code class="language-shell"> git checkout -b my-fix-branch master
</code></pre></li>

<li><p>Commit your changes using a descriptive commit message.</p></li>

<li><p>Push your branch to GitHub:</p>

<pre><code class="language-shell">git push origin my-fix-branch
</code></pre></li>

<li><p>In GitHub, send a pull request to <code>laradock:master</code>.</p></li>

<li><p>If we suggest changes then:</p>

<ul>
<li>Make the required updates.</li>
<li>Commit your changes to your branch (e.g. <code>my-fix-branch</code>).</li>
<li>Push the changes to your GitHub repository (this will update your Pull Request).</li>
</ul></li>
</ul>

<blockquote>
<p>If the PR gets too outdated we may ask you to rebase and force push to update the PR:</p>
</blockquote>

<pre><code class="language-shell">git rebase master -i
git push origin my-fix-branch -f
</code></pre>

<p><em>WARNING. Squashing or reverting commits and forced push thereafter may remove GitHub comments on code that were previously made by you and others in your commits.</em></p>

<h3 id="3-after-your-pr-is-merged">3. After your PR is merged</h3>

<p>After your pull request is merged, you can safely delete your branch and pull the changes from the main (upstream) repository:</p>

<ul>
<li><p>Delete the remote branch on GitHub either through the GitHub web UI or your local shell as follows:</p>

<pre><code class="language-shell">git push origin --delete my-fix-branch
</code></pre></li>

<li><p>Check out the master branch:</p>

<pre><code class="language-shell">git checkout master -f
</code></pre></li>

<li><p>Delete the local branch:</p>

<pre><code class="language-shell">git branch -D my-fix-branch
</code></pre></li>

<li><p>Update your master with the latest upstream version:</p>

<pre><code class="language-shell">git pull --ff upstream master
</code></pre></li>
</ul>

<p><br></p>

<h4 id="happy-coding">Happy Coding :)</h4>

			
			<br><br><br><br><br><br>
			<hr>
			<br>
			<h1>8. License </h1>

			<p><a href="https://github.com/laradock/laradock/blob/master/LICENSE">MIT License</a> (MIT)</p>

			

			<aside class="copyright" role="note">
				
				Documentation built with
				<a href="https://www.gohugo.io" target="_blank">Hugo</a>
				using the
				<a href="http://github.com/digitalcraftsman/hugo-material-docs" target="_blank">Material</a> theme,
				by
				<a href="https://zalt.me">Mahmoud Zalt</a>.
			</aside>

			<footer class="footer">
				



<nav class="pagination" aria-label="Footer">
  <div class="previous">
  </div>

  
  
  <div class="next">
      <a href="https://laradock.io/getting-started/" title="2. Getting Started">
        <span class="direction">
          Next
        </span>
        <div class="page">
          <div class="stretch">
            <div class="title">
              2. Getting Started
            </div>
          </div>
          <div class="button button-next" role="button" aria-label="Next">
            <i class="icon icon-forward"></i>
          </div>
        </div>
      </a>
  </div>
</nav>



			</footer>
		</div>
	</article>

	<div class="results" role="status" aria-live="polite">
		<div class="scrollable">
			<div class="wrapper">
				<div class="meta"></div>
				<div class="list"></div>
			</div>
		</div>
	</div>
</main>

    <script>
    
      var base_url = '';
      var repo_id  = '';
    
    </script>

    <script src="https://laradock.io/javascripts/application.js"></script>
    

    <script>
      /* Add headers to scrollspy */
      var headers   = document.getElementsByTagName("h2");
      var scrollspy = document.getElementById('scrollspy');

      if(scrollspy) {
        if(headers.length > 0) {
          for(var i = 0; i < headers.length; i++) {
            var li = document.createElement("li");
            li.setAttribute("class", "anchor");

            var a  = document.createElement("a");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", headers[i].innerHTML);
            a.innerHTML = headers[i].innerHTML;

            li.appendChild(a)
            scrollspy.appendChild(li);
          }
        } else {
          scrollspy.parentElement.removeChild(scrollspy)
        }


        /* Add permanent link next to the headers */
        var headers = document.querySelectorAll("h1, h2, h3, h4, h5, h6");

        for(var i = 0; i < headers.length; i++) {
            var a = document.createElement("a");
            a.setAttribute("class", "headerlink");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", "Permanent link")
            a.innerHTML = "#";
            headers[i].appendChild(a);
        }
      }
    </script>

    
      <script>
        (function(i,s,o,g,r,a,m){
          i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||
          []).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;
          m.parentNode.insertBefore(a,m)
        })(window, document,
          'script', '//www.google-analytics.com/analytics.js', 'ga');
         
        ga('create', 'UA-37514928-9', 'auto');
        ga('set', 'anonymizeIp', true);
        ga('send', 'pageview');
         
        var buttons = document.querySelectorAll('a');
        Array.prototype.map.call(buttons, function(item) {
          if (item.host != document.location.host) {
            item.addEventListener('click', function() {
              var action = item.getAttribute('data-action') || 'follow';
              ga('send', 'event', 'outbound', action, item.href);
            });
          }
        });
         
        var query = document.querySelector('.query');
        query.addEventListener('blur', function() {
          if (this.value) {
            var path = document.location.pathname;
            ga('send', 'pageview', path + '?q=' + this.value);
          }
        });
      </script>
    

    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>

